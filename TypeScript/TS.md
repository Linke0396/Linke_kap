[TOC]

# TypeScript

<div style="display: flex; align-items: center;">
    <hr/>
    <svg class="icon" style="width: 5em;height: 5em;margin: 0 5px;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3608"><path d="M94.208 94.208v835.584h835.584V94.208H94.208z m634.92096 405.85216v0.012288c8.011776 0.024576 17.119232 0.436224 23.967744 1.179648 27.891712 3.016704 49.6128 15.050752 68.091904 37.715968 9.201664 11.290624 12.34944 16.2304 11.679744 18.343936-0.432128 1.363968-6.746112 5.885952-26.820608 19.21024-19.720192 13.092864-26.07104 17.014784-27.5456 17.014784-1.497088 0-4.614144-3.207168-9.105408-9.365504-8.6528-11.855872-17.485824-17.266688-31.13984-19.070976-14.68416-1.9456-27.856896 2.68288-34.308096 12.058624-5.515264 8.011776-6.3488 20.901888-1.96608 30.26944 5.07904 10.848256 14.270464 16.846848 49.494016 32.290816 40.624128 17.813504 61.210624 30.005248 76.204032 45.13792 16.146432 16.293888 24.326144 35.106816 26.83904 61.718528 1.226752 12.972032-0.272384 28.34432-3.98336 40.843264-9.10336 30.640128-33.66912 53.075968-69.67296 63.635456-9.95328 2.9184-19.214336 4.661248-28.37504 5.332992-13.985792 1.030144-34.002944 0.462848-46.051328-1.29024-30.482432-4.442112-64.892928-22.17984-82.051072-42.2912-8.423424-9.873408-19.177472-26.12224-19.177472-28.9792 0-1.380352 0.684032-2.164736 3.391488-3.885056 8.032256-5.103616 54.054912-31.412224 54.94784-31.412224 0.540672 0 2.945024 2.832384 5.341184 6.295552 5.429248 7.839744 18.78016 21.313536 25.567232 25.808896 5.543936 3.672064 12.634112 6.619136 21.051392 8.747008 4.820992 1.202176 7.3728 1.417216 17.891328 1.417216 10.747904-0.004096 12.951552-0.18432 17.760256-1.476608 12.71808-3.422208 22.644736-10.50624 26.851328-19.156992 1.8432-3.7376 1.880064-4.204544 1.880064-13.27104v-9.40032l-2.260992-4.48512c-5.474304-10.866688-17.270784-18.323456-54.56896-34.47808-17.13152-7.421952-38.11328-17.885184-46.30528-23.0912-18.696192-11.880448-31.653888-25.462784-40.157184-42.088448-8.45824-16.533504-9.71776-22.687744-9.73824-47.548416-0.02048-19.462144-0.053248-19.222528 3.975168-31.643648 3.65568-11.272192 11.139072-23.863296 19.400704-32.64512 16.4864-17.524736 40.577024-28.788736 66.367488-31.029248 3.29728-0.313344 7.716864-0.434176 12.52352-0.41984z m-221.92128 3.844096h0.008192c49.670144 0.024576 78.143488 0.196608 78.600192 0.483328 0.86016 0.53248 0.968704 4.855808 0.968704 32.444416v31.827968l-49.563648 0.180224-49.563648 0.180224v140.724224c0 77.400064-0.157696 141.185024-0.372736 141.748224-0.350208 0.948224-4.163584 1.019904-36.41344 1.019904h-36.018176l-0.372736-1.45408c-0.239616-0.79872-0.415744-64.587776-0.41984-141.750272l-0.012288-140.296192-49.5616-0.176128-49.565696-0.180224v-31.451136c0-24.94464 0.172032-31.625216 0.837632-32.288768 0.681984-0.702464 25.976832-0.882688 134.967296-0.991232 21.01248-0.02048 39.92576-0.03072 56.48384-0.02048z" fill="#0288D1" p-id="3609"></path></svg>
	<hr/>
</div>

***[TypeScript](https://www.typescriptlang.org/)(ç®€ç§°`TS`): æ˜¯`JavaScript`çš„<span style=color:red;>è¶…é›†</span>***

<center><img src="images/typescript.png" alt="typescript" style="zoom:35%;" title="typescript" /></center>















## ğŸ€æ¦‚å¿µ

> ==***`TypeScript`æ˜¯å¸¦æœ‰ç±»å‹è¯­æ³•çš„ `JavaScript`æ„å»ºçš„å¼ºç±»å‹ç¼–ç¨‹è¯­è¨€***==

















## TSä¸JSçš„åŒºåˆ«

+ `TypeScript`å±äºé™æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€

  > ==**<span style=color:red;>é™æ€ç±»å‹</span>: ç¼–è¯‘æœŸåšç±»å‹æ£€æŸ¥**==

+ `JavaScript`å±äºåŠ¨æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€

  > ==**<span style=color:red;>åŠ¨æ€ç±»å‹</span>ï¼šè¿è¡ŒæœŸåšç±»å‹æ£€æŸ¥**==



















## å®‰è£…

~~~cmd
# å…¨å±€å®‰è£…
npm install -g typescript

# æŸ¥è¯¢ç‰ˆæœ¬
tsc -v
~~~

















### ä½œç”¨

==**ç”¨æ¥ç¼–è¯‘ `TypeScript` ä»£ç ï¼Œå°† `TS` è½¬æ¢ `JS`**==

<center><img src="images/ts%E7%9A%84%E7%BC%96%E8%AF%91.png" alt="tsçš„ç¼–è¯‘" style="zoom:90%;border: 1px solid silver;" title="tsçš„ç¼–è¯‘" /></center>





















## ğŸ”»ç¼–è¯‘è¿è¡Œ

1. <span style=color:black;>**åˆ›å»º `index.ts` æ–‡ä»¶(`TS`æ–‡ä»¶åç¼€åä¸º`.ts`)**</span>

2. <span style=color:black;>**ç¼–è¯‘`TS`ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼›<u>ç¼–è¯‘å®Œæˆåï¼Œä¼šåœ¨åŒçº§ç›®å½•ç”ŸæˆåŒå`JS`æ–‡ä»¶</u>**</span>

   ~~~cmd
   tsc index.ts
   ~~~

3. <span style=color:black;>**æ‰§è¡Œç¼–è¯‘åçš„`JS`æ–‡ä»¶**</span>

   ~~~cmd
   node index.js
   ~~~















### ç›‘å¬æ–‡ä»¶

> ==**åœ¨éœ€è¦ç›‘å¬çš„`.ts`æ–‡ä»¶æ‰€åœ¨çš„ç›®å½•æ‰“å¼€ç»ˆç«¯æ‰§è¡Œå¦‚ä¸‹å‘½ä»¤:**==
>
> ~~~cmd
> # ç›‘å¬
> tsc --watch
> # å‘ç”Ÿé”™è¯¯åˆ™ä¸ç¼–è¯‘.tsæ–‡ä»¶
> tsc --noEmitOnError --watch
> ~~~

















### ts-node

> :grey_exclamation:==**ä½œç”¨: <u>ç®€åŒ–æ¯æ¬¡ä¿®æ”¹ `ts` ä»£ç éƒ½éœ€è¦æ‰§è¡Œ `tsc` å‘½ä»¤ç¼–è¯‘ï¼Œç›´æ¥å°† `ts`ç¼–è¯‘è¿è¡Œï¼Œä¸”ä¸ç”Ÿæˆ `js` æ–‡ä»¶</u>**==

~~~cmd
# å…¨å±€å®‰è£…
npm install -g ts-node

# ä½¿ç”¨
ts-node <.tsæ–‡ä»¶è·¯å¾„>
~~~

















### vscodeè‡ªåŠ¨ç¼–è¯‘ts

1. <span style=color:black;>***ä½¿ç”¨å¦‚ä¸‹å‘½ä»¤ç”Ÿæˆé…ç½®æ–‡ä»¶***</span>

   ~~~cmd
   tsc --init
   ~~~

2. <span style=color:black;>***ä¿®æ”¹`tsconfig.json`æ–‡ä»¶çš„é…ç½®ä¿¡æ¯***</span>

   ~~~json
   "outDir": "./js"  /* æŠŠtsæ–‡ä»¶ç¼–è¯‘æˆåŠŸåæ”¾åœ¨jsç›®å½•ä¸­(ä¸ç”¨æ–°å»ºæ–‡ä»¶å¤¹ä¼šè‡ªåŠ¨ç”Ÿæˆjsæ–‡ä»¶å¤¹) */
   ~~~

3. <span style=color:black;>***å¼€å¯è‡ªåŠ¨ç¼–è¯‘***</span>

   + ==**`Terminal` => `Run Task...` => è¾“å…¥ `tsc` => é€‰æ‹©ç›‘å¬çš„ `tsc: watch - **/tsconfig.json` æ–‡ä»¶**==

   + <span style=color:black;>**ç»ˆç«¯æ˜¾ç¤ºå¦‚ä¸‹ä¿¡æ¯ï¼Œåˆ™ç¼–è¯‘æˆåŠŸ**</span>

     <left><img src="images/vscode%E8%87%AA%E5%8A%A8%E7%BC%96%E8%AF%91ts.png" alt="vscode - terminal" style="zoom:70%;" title="terminal" /></left>















### é™çº§ç¼–è¯‘

> ==**å¯é€šè¿‡ä¿®æ”¹`tsconfig.json`é…ç½®æ–‡ä»¶æ¥ä¿®æ”¹`TS`ç¼–è¯‘ç›®æ ‡çš„ä»£ç ç‰ˆæœ¬**==
>
> ~~~json
> "target": "es5",
> ~~~















### ä¸¥æ ¼æ¨¡å¼

> ==**é€šè¿‡`tsconfig.json`é…ç½®æ–‡ä»¶é…ç½®ä»¥ä¸‹å±æ€§å¯ä»¥æ‰“å¼€æˆ–å…³é—­çš„ç±»å‹æ£€æŸ¥ä¸¥æ ¼æ€§æ ‡å¿—**==

+ <span style=color:black;>`strict(boolean)`ï¼šæ˜¯å¦å¼€å¯ä¸¥æ ¼æ¨¡å¼<span style=color:red;>(å¯ç”¨æ­¤é…ç½®ç­‰åŒäºå¯ç”¨ä»¥ä¸‹ä¸¤é¡¹é…ç½®)</span></span>
+ <span style=color:black;>`noImplicitAny(boolean)`ï¼šæ˜¯å¦å…è®¸éšå¼çš„`any`ç±»å‹</span>
+ <span style=color:black;>`strictNullChecks(boolean)`ï¼šæ˜¯å¦ä¸å…è®¸å€¼ä¸º`null`å’Œ`undefined`å¯åˆ†é…ç»™ä»»ä½•å…¶ä»–ç±»å‹</span>

















## é™æ€ç±»å‹æ£€æŸ¥

> ==**<span style=color:red;>é™æ€ç±»å‹ç³»ç»Ÿ</span>æè¿°äº†ç¨‹åºè¿è¡Œæ—¶å€¼çš„ç»“æ„å’Œè¡Œä¸º**==

~~~typescript
const message = "hello!";
 
message(); // This expression is not callable. Type 'String' has no call signatures.
~~~















## éå¼‚å¸¸å¤±è´¥

~~~typescript
const user = {
    name: "linke",
    age: 19,
};
 
user.sex; // Property 'location' does not exist on type '{ name: string; age: number; }'.
~~~



















## ğŸ“ç±»å‹æ³¨è§£

> ~~~typescript
> let å˜é‡å: ç±»å‹ = å˜é‡å€¼;
> ~~~
>
> ==***ä½¿ç”¨ `const`ã€`var` æˆ– `let` å£°æ˜å˜é‡æ—¶,å¯ä»¥é€‰æ‹©æ·»åŠ ç±»å‹æ³¨é‡Šä»¥æ˜¾å¼æŒ‡å®šå˜é‡çš„ç±»å‹***==
>
> :grey_exclamation:==**`: ç±»å‹`è¡¨ç¤ºçº¦å®šå˜é‡ä¸ºæŒ‡å®šç±»å‹ï¼›åªèƒ½ä¸ºè¯¥å˜é‡èµ‹å€¼è¯¥ç±»å‹çš„å€¼ï¼Œåä¹‹æŠ¥é”™**==

~~~typescript
let age: number = 19; // å®šä¹‰ageå˜é‡ä¸ºnumberç±»å‹

age = 15; // èµ‹å€¼æˆåŠŸ

age = '15'; // Type 'string' is not assignable to type 'number'.
~~~

















## ç±»å‹æ¨æ–­

> ==**å¯çœç•¥ç±»å‹æ³¨é‡Šï¼Œ`TypeScript` éƒ½ä¼šå°è¯•è‡ªåŠ¨æ¨æ–­ä»£ç ä¸­çš„ç±»å‹**==
>
> :grey_exclamation:==***<span style=color:red;>å˜é‡çš„ç±»å‹æ˜¯æ ¹æ®å…¶åˆå§‹å€¼è®¾å®šé¡¹çš„ç±»å‹æ¨æ–­çš„</span>***==

~~~typescript
let myName = 'linke'; // => ç­‰ä»·äº let myName: string = 'linke';

myName = true; // Type 'boolean' is not assignable to type 'string'.
~~~















## ç±»å‹æ–­è¨€

> ==***é€šè¿‡`as`å…³é”®å­—å®ç°ç±»å‹æ–­è¨€ï¼Œ`as`å…³é”®å­—åé¢çš„ç±»å‹æ˜¯ä¸€ä¸ªæ›´åŠ å…·ä½“çš„ç±»å‹(å­ç±»å‹)***==

~~~typescript
// æ–¹å¼ä¸€
const link = document.getElementById('link') as HTMLAnchorElement;

// æ–¹å¼äºŒ(ä»…åœ¨tsxä¸­æ— æ•ˆ)
const link = <HTMLAnchorElement>document.getElementById('link');
~~~

















## æ–‡æœ¬ç±»å‹

~~~typescript
// changingString æ˜¯ä¸€ä¸ªå˜é‡(let), å€¼å¯ä»¥æ˜¯ä»»æ„å­—ç¬¦ä¸²ç±»å‹
let changingString = "Hello World"; // let changingString: string

// constantString æ˜¯ä¸€ä¸ªå¸¸é‡(const), å€¼æ˜¯ä¸èƒ½æ”¹å˜çš„ï¼Œæ‰€ä»¥ç±»å‹ä¸º 'Hello World'
const constantString = "Hello World"; // const constantString: "Hello World"

// ç­‰ä»·äº
let x: "hello" = "hello";
x = "hello"; // OK
x = "error"; // Type '"error"' is not assignable to type '"hello"'.
~~~

<span style=color:black;>***åº”ç”¨åœºæ™¯***</span>

~~~typescript
function printText(s: string, alignment: "left" | "right" | "center") {
    // ...
}

printText("Hello, world", "left"); // OK
printText("G'day, mate", "botton"); // Argument of type '"botton"' is not assignable to parameter of type '"left" | "right" | "center"'.
~~~

~~~typescript
function compare(a: string, b: string): -1 | 0 | 1 {
    return a === b ? 0 : a > b ? 1 : -1;
}
~~~























## å­—é¢æ¨ç†

~~~typescript
function handleRequest(url: string, method: 'GET' | 'POST') { }

// æ–¹å¼1
const req = { url: "https://example.com", method: "GET" as 'GET' };
handleRequest(req.url, req.method); // OK

// æ–¹å¼2
const req = { url: "https://example.com", method: "GET" };
handleRequest(req.url, req.method as 'GET'); // OK

// æ–¹å¼3(å°†æ•´ä¸ªå¯¹è±¡è½¬æ¢ä¸ºç±»å‹æ–‡æœ¬)
const req = { url: "https://example.com", method: "GET" } as const;
handleRequest(req.url, req.method); // OK
~~~

















## â•éç©ºæ–­è¨€è¿ç®—ç¬¦

> :grey_exclamation:==***`TypeScript` è¿˜å…·æœ‰ä¸€ç§ç‰¹æ®Šçš„è¯­æ³•ï¼Œ`!`ç”¨äºåœ¨ä¸æ‰§è¡Œä»»ä½•æ˜¾å¼æ£€æŸ¥çš„æƒ…å†µä¸‹ä»ç±»å‹ä¸­åˆ é™¤`null`å’Œ`undefined`***==

~~~typescript
function liveDangerously(x?: number | null) {
    // No error
    console.log(x!.toFixed());
}
~~~

















## ç±»å‹è¿ç®—ç¬¦

> ==***å¯ä»¥åœ¨è¡¨è¾¾å¼ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨çš„è¿ç®—ç¬¦`typeof`***==
>
> :grey_exclamation:==***<span style=color:red;>åªèƒ½ç”¨æ¥æŸ¥è¯¢å˜é‡æˆ–å±æ€§çš„ç±»å‹</span>***==

~~~typescript
console.log(typeof 'Hello world'); // string

let p = { x: 1, y: 2 }
function fn(point: typeof p) { ... }
~~~















## é”®ç±»å‹è¿ç®—ç¬¦

> ==***`keyof`é‡‡ç”¨å¯¹è±¡ç±»å‹å¹¶ç”Ÿæˆå…¶é”®çš„å­—ç¬¦ä¸²æˆ–æ•°å­—æ–‡æœ¬çš„è”åˆç±»å‹***==

~~~typescript
type User = {
    id: number;
    name: string;
}

type UserKeys = keyof User;		// "id" | "name"
type Use = User[keyof User];	// string | number
~~~















## ç±»å‹è°“è¯

> :grey_exclamation:==***éœ€è¦å®šä¹‰ä¸€ä¸ªè¿”å›ç±»å‹ä¸º`is`ç±»å‹è°“è¯çš„å‡½æ•°***==

~~~typescript
type Daytime = { sun: string }
type Evening = { moon: string }

function isDaytime(now: Daytime | Evening): now is Daytime {
    return (now as Daytime).sun !== undefined;
}

const today: Daytime = { sun: '9:00' }
const yester: Evening = { moon: '19:00' }

isDaytime(today);	// true
isDaytime(yester);	// false
~~~





















## ğŸ”–åŸºç¡€ç±»å‹

### åŸå§‹ç±»å‹

|      ç±»å‹       |
| :-------------: |
|  **`number`**   |
|  **`string`**   |
|  **`boolean`**  |
|  **`object`**   |
|   **`null`**    |
| **`undefined`** |
|  **`symbol`**   |
|  **`bigint`**   |
| **`function`**  |

~~~typescript
let age: number = 19;			// æ•°å­—
let first: string = 'L';		// å­—ç¬¦ä¸²
let flag: boolean = true;		// å¸ƒå°”
let no: null = null;			// null
let last: undefined = undefined;	// undefined
let s: symbol = Symbol();		// symbol
~~~

















### ğŸŸ å¯¹è±¡ç±»å‹

#### æ•°ç»„

+ **`ç±»å‹[]`**

  ~~~typescript
  // æ–¹å¼ä¸€(æ¨è)
  const numbers: number[] = [1, 2, 3];
  
  numbers = [1, true]; // Type 'boolean' is not assignable to type 'number'.
  ~~~

+ **`Array<ç±»å‹>`**

  ~~~typescript
  // æ–¹å¼äºŒ
  const strings: Array<string> = ['a', 'b', 'c'];
  ~~~

+ **`ReadonlyArray<ç±»å‹>`**

  ~~~typescript
  // æ–¹å¼ä¸‰(åªè¯»æ•°ç»„ç±»å‹)
  const roArray: ReadonlyArray<string> = ['red', 'green', 'blue';
  ~~~

  

















#### å¯¹è±¡

~~~typescript
let obj: object = {}; // å¯¹è±¡ç±»å‹

obj = { id: 1}
obj = { name: 'linke' }

obj = 1; // Type 'number' is not assignable to type 'object'.
~~~















#### è‡ªå®šä¹‰å¯¹è±¡

+ **`å±æ€§å: ç±»å‹`: å£°æ˜å¯¹è±¡å±æ€§ç±»å‹**

  ~~~typescript
  const person: { name: string } = { name: 'linke' };
  ~~~

+ **`æ–¹æ³•å(): ç±»å‹`: å£°æ˜å¯¹è±¡æ–¹æ³•ç±»å‹**

  ~~~typescript
  // æ–¹å¼1
  const person: { fn(): void } = { fn() { } }
  
  // æ–¹å¼2(ç®­å¤´å‡½æ•°)
  const person: { fn(): void } = { fn: () => { } }
  ~~~













##### â•â•æ³¨æ„

+ :grey_exclamation:==**å¤šä¸ªå¯¹è±¡å±æ€§ç±»å‹ä½¿ç”¨`;`éš”å¼€**==

  ~~~typescript
  const person: { name: string; age: number; address(): void } = {
      name: 'linke',
      age: 19,
      address() { }
  }
  
  person; // => { name: 'linke', age: 19, address: [Function: address] }
  ~~~

+ :grey_exclamation:==**å¤šä¸ªå¯¹è±¡å±æ€§ç±»å‹æ¢è¡Œ,å¯çœç•¥`;`**==

  ~~~typescript
  const person: {
      name: string
      age: number
  } = {
      name: 'linke',
      age: 19
  }
  ~~~

  





















#### å±æ€§ä¿®é¥°ç¬¦

+ **`?`**: <span style=color;black;>å¯é€‰å±æ€§</span>

  ~~~typescript
  const options: {
      x?: number;
      y?: number;
      z?: number;
  } = {
      z: 1
  }
  
  options; // => { z: 1 }
  ~~~

+ **`readonly`**: <span style=color;black;>åªè¯»å±æ€§</span>

  ~~~typescript
  const obj: {
      readonly name: string
  } = {
      name: 'linke'
  }
  
  obj; // => { name: 'linke' }
  
  obj.name = 'baili'; // Cannot assign to 'name' because it is a read-only property.
  
  // readony å±æ€§ä¹Ÿå¯ä»¥é€šè¿‡åˆ«åæ¥æ”¹å˜
  interface Person {
      name: string;
      age: number;
  }
  
  interface ReadonlyPerson {
      readonly name: string;
      readonly age: number;
  }
  
  const person: Person = {
      name: 'linke',
      age: 19
  }
  
  const readonlyPerson: ReadonlyPerson = person
  readonlyPerson.age // => 19
  person.age++
  readonlyPerson.age // => 20
  ~~~
  
  















#### ğŸæ¥å£

> ==***`interface`å®šä¹‰å…·æœ‰å±æ€§çš„ç±»å‹ï¼Œæ˜¯ä¸€ç§å¯é‡ç”¨çš„ç±»å‹***==
>
> :grey_exclamation:==***<span style=color:red;>æ¥å£å£°æ˜æ˜¯å‘½åå¯¹è±¡ç±»å‹çš„å¦ä¸€ç§æ–¹æ³•</span>***==

~~~typescript
// å®šä¹‰æ¥å£
interface Person {
    name: string;
    age: number;
}

// ä½¿ç”¨
const objï¼š Person = {
    name: 'dudu',
    age: 11
}
~~~















##### æ‰©å±•æ¥å£

> ==***<span style=color:red;><u>ç»§æ‰¿</u></span>ï¼šé€šè¿‡`extends`å…³é”®å­—å®ç°æ¥å£ä¸æ¥å£ä¹‹é—´çš„ç»§æ‰¿***==
>
> :grey_exclamation:**<span style=color:red;>å¯å¤šä¸ªç»§æ‰¿ï¼Œä½¿ç”¨`,`åˆ†å‰²</span>**
>
> ==***<span style=color:red;><u>å£°æ˜åˆå¹¶</u></span>ï¼šæ¥å£å¯ä»¥å®šä¹‰å¤šæ¬¡ï¼Œå¹¶å°†è¢«è§†ä¸ºå•ä¸ªæ¥å£(åˆå¹¶æ‰€æœ‰å£°æ˜çš„æˆå‘˜)***==

+ <span style=color:black;>***ç»§æ‰¿***</span>*(æ¨è)*

  ~~~typescript
  interface Person {
      name: string;
      age: number;
  }
  
  // ç»§æ‰¿
  interface Stu extends Person {
      info(): void
  }
  
  const person: Person = {
      name: 'keke',
      age: 10,
      info() { }
  }
  ~~~

+ <span style=color:black;>***å£°æ˜åˆå¹¶***</span>

  ~~~typescript
  // åŒæ—¶å£°æ˜å¤šä¸ªç›¸åŒæ¥å£ï¼Œä¼šå°†å…¶åˆå¹¶æˆå‘˜ä¸ºå•ä¸ªæ¥å£
  interface Point { x: number }
  interface Point { y: number }
  
  const point: Point = {
      x: 1,
      y: 2
  }
  ~~~




















##### ç±»å‹åˆ«åå’Œæ¥å£ä¹‹é—´çš„å·®å¼‚

+ :grey_exclamation:<span style=color:black;>***æ¥å£å§‹ç»ˆæ˜¯å¯æ‰©å±•çš„ï¼Œä½†ç±»å‹åˆ«åä¸å¯ä»¥***</span>
+ :grey_exclamation:<span style=color:black;>***æ¥å£å¯ä»¥å£°æ˜åˆå¹¶ï¼Œä½†ç±»å‹åˆ«åä¸å¯ä»¥***</span>
+ :grey_exclamation:<span style=color:black;>***æ¥å£åªç”¨äºå£°æ˜å¯¹è±¡çš„ç±»å‹ï¼Œç±»å‹åˆ«åå¯ä»¥ç”¨äºä»»æ„ç±»å‹***</span>



































### è”åˆç±»å‹

> ~~~typescript
> let å˜é‡å: ç±»å‹1 | ç±»å‹2 | ... = å˜é‡å€¼;
> ~~~
>
> :grey_exclamation:==***è”åˆç±»å‹æ˜¯ç”±ä¸¤ä¸ªæˆ–å¤šä¸ªå…¶ä»–ç±»å‹ç»„æˆçš„ç±»å‹ï¼Œè¡¨ç¤ºå¯èƒ½æ˜¯è¿™äº›ç±»å‹ä¸­çš„ä»»ä½•ä¸€ç§çš„å€¼***==

~~~typescript
// å˜é‡
let size: number | string = 1;
size = '2';
size // => '2'

// æ•°ç»„
let arr: (number | string)[] = [1, 'a', 2, 'b'];
arr.push(3);
arr.unshift('c');
arr // => [ 'c', 1, 'a', 2, 'b', 3 ]
~~~

















### ç±»å‹åˆ«å

> ~~~typescript
> // å®šä¹‰: é€šè¿‡typeå®šä¹‰ç±»å‹åˆ«å
> type ç±»å‹åˆ«å = ç±»å‹;
> 
> // ä½¿ç”¨: å°†ç±»å‹åˆ«åä½œä¸ºç±»å‹æ³¨è§£
> let å˜é‡å: ç±»å‹åˆ«å = å˜é‡å€¼;
> ~~~
>
> ==**å¸Œæœ›å¤šæ¬¡ä½¿ç”¨ç›¸åŒçš„ç±»å‹,å¯é€šè¿‡å•ä¸ªåç§°å¼•ç”¨å®ƒ**==
>
> :grey_exclamation:==***å¯ä¸ºä»»ä½•ç±»å‹å®šä¹‰ç±»å‹åˆ«å***==

~~~typescript
// å®šä¹‰
type CustomArray = (number | string)[];

// ä½¿ç”¨
let arr: CustomArray = [1, 2, 3];
let arr2: CustomArray = [1, 'a', 'b'];
~~~















### ğŸŸ£å‡½æ•°ç±»å‹

> ==**å‡½æ•°çš„ç±»å‹å®é™…ä¸ŠæŒ‡çš„æ˜¯ï¼šå‡½æ•°<span style=color:red;>å‚æ•°</span>å’Œ<span style=color:red;>è¿”å›å€¼</span>çš„ç±»å‹**==







#### å‚æ•°ç±»å‹æ³¨é‡Š

> ~~~typescript
> function å‡½æ•°å(param1: å‚æ•°ç±»å‹, param2: å‚æ•°ç±»å‹) { ... }
> ~~~
>
> ==***å£°æ˜å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨æ¯ä¸ªå‚æ•°åæ·»åŠ ç±»å‹æ³¨é‡Šï¼Œä»¥å£°æ˜å‡½æ•°æ¥å—çš„å‚æ•°ç±»å‹***==

~~~typescript
// å‚æ•°ç±»å‹æ³¨é‡Š
function greet(name: string) {
    return `Hello ${name.toUpperCase()}!`;
}

// è°ƒç”¨å‡½æ•°
greet('linke') // => Hello LINKE!

// é”™è¯¯å‚æ•°
greet(19) // Argument of type 'number' is not assignable to parameter of type 'string'.
~~~











#### è¿”å›ç±»å‹æ‰¹æ³¨

> ~~~typescript
> function å‡½æ•°å(å‚æ•°): è¿”å›å€¼ç±»å‹ { ... }
> ~~~
>
> ==**å¯ä»¥æ·»åŠ å‡½æ•°è¿”å›ç±»å‹æ‰¹æ³¨,åœ¨å‚æ•°åˆ—è¡¨ä¹‹åä½¿ç”¨ç±»å‹æ³¨è§£**==
>
> ==***<span style=color:red;>å¯çœç•¥è¿”å›ç±»å‹æ³¨é‡Šï¼Œ`TypeScript` å°†æ ¹æ®å‡½æ•°çš„`return`è¯­å¥æ¨æ–­å‡½æ•°çš„è¿”å›ç±»å‹</span>***==

~~~typescript
function getAge(): number {
    return 19;
}
~~~















#### æŒ‡å®šç±»å‹çš„æ–¹å¼

1. ***<span style=color:red;>å•ç‹¬</span>æŒ‡å®šå‚æ•°ï¼Œè¿”å›å€¼çš„ç±»å‹***

   ~~~typescript
   // æ™®é€šå‡½æ•°
   function fn(arg, å‚æ•°ç±»å‹, ...): å‡½æ•°è¿”å›å€¼ç±»å‹ {
       return ...
   }
       
   // ç®­å¤´å‡½æ•°
   const fn = (arg: å‚æ•°ç±»å‹, ...): å‡½æ•°è¿”å›å€¼ç±»å‹ => {
       return ...
   }
   ~~~

2. ***<span style=color:red;>åŒæ—¶</span>æŒ‡å®šå‚æ•°ï¼Œè¿”å›å€¼çš„ç±»å‹***

   ~~~typescript
   const fn: (arg: å‚æ•°ç±»å‹, ...) => å‡½æ•°è¿”å›å€¼ç±»å‹ = (arg, ...) => {
   	return ...                                         
   }
   ~~~

   















#### è°ƒç”¨ç­¾å

> ==**å‡½æ•°è¿˜å¯ä»¥æœ‰å±æ€§,ç„¶è€Œå‡½æ•°ç±»å‹è¡¨è¾¾å¼çš„è¯­æ³•ä¸å…è®¸å£°æ˜å±æ€§; å¯ä»¥åœ¨ä¸€ä¸ªå¯¹è±¡ç±»å‹ä¸­å†™ä¸€ä¸ªè°ƒç”¨ç­¾å**==

~~~typescript
type DescribableFunction = {
    description: string; // å±æ€§
    (someArg: number): boolean; // å‚æ•°ä¸è¿”å›å€¼
};

function doSomething(fn: DescribableFunction) {
    console.log(fn.description + " returned " + fn(6));
}

function fn(value: number) {
    return value % 2 == 0
}
fn.description = 'Hello'

doSomething(fn); // => Hello returned true
~~~















#### æ„é€ ç­¾å

> ==**å‡½æ•°ä¹Ÿå¯ä»¥ç”¨`new`è¿ç®—ç¬¦è°ƒç”¨ï¼Œå°†è¿™äº›ç§°ä¸º<span style=color:red;>æ„é€ å‡½æ•°</span>**==

~~~typescript
class SomeObject {
    s: string
    constructor(s: string) {
        this.s = s
    }
}

type SomeConstructor = {
    new (s: string): SomeObject;
};

function fn(ctor: SomeConstructor) {
    return new ctor("hello");
}

fn(SomeObject); // => SomeObject { s: 'hello' }
~~~



















#### åŒ¿åå‡½æ•°

~~~typescript
const names = ['linke', 'baili', 'dudu'];
names.forEach((s: string) => {
    console.log(s.toUpperCase());
});
~~~

  













#### å¯é€‰å‚æ•°

> ==ä½¿ç”¨`?`å°†å‚æ•°æ ‡è®°ä¸º***<span style=color:red;>å¯é€‰</span>***==
>
> :grey_exclamation:<span style=color:red;>***å¯é€‰å‚æ•°åªèƒ½å‡ºç°åœ¨å‚æ•°åˆ—è¡¨çš„æœ€å***</span>

~~~typescript
function f(x?: å‚æ•°ç±»å‹) { ... }
function f(y: å‚æ•°ç±»å‹, x?: å‚æ•°ç±»å‹) { ... }
~~~













#### åˆå¹¶å‚æ•°

> ==***ä½¿ç”¨ `&` ç¬¦å·å¯ä»¥çµæ´»çš„åˆå¹¶å‚æ•°***==

~~~typescript
type Params = {
    a: string;
};

function fn(params: Params & { b: string }) {
    console.log(params);
}

fn({ a: "4", b: "2" }); // => { a: '4', b: '2' }
~~~



















#### å‚æ•°è§£æ„

> ==**å¯ä»¥ä½¿ç”¨å‚æ•°è§£æ„æ–¹ä¾¿åœ°å°†ä½œä¸ºå‚æ•°æä¾›çš„å¯¹è±¡è§£å‹ç¼©åˆ°å‡½æ•°ä½“ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå±€éƒ¨å˜é‡ä¸­**==

~~~typescript
function sum({ a, b, c }: { a: number; b: number; c: number }): number {
	return a + b + c;
}
~~~













#### å…¶ä½™å‚æ•°

> ==**å¯ä»¥ä½¿ç”¨`...`å®šä¹‰æ¥å—æ— é™æ•°é‡å‚æ•°çš„å‡½æ•°**==

~~~typescript
// åœ¨å‚æ•°å‰æ·»åŠ ..., å¹¶å°†å…¶ç±»å‹å®šä¹‰ä¸ºæ•°ç»„
function multiply(n: number, ...m: number[]) {
    return m.map((x) => n * x);
}

// è°ƒç”¨
multiply(10, 1, 2, 3, 4); // => [ 10, 20, 30, 40 ]
~~~



















#### å‡½æ•°é‡è½½

> ==***å¯ä»¥é€šè¿‡ç¼–å†™é‡è½½ç­¾åä»¥ä¸åŒæ–¹å¼è°ƒç”¨çš„å‡½æ•°***==
>
> :grey_exclamation:<span style=color:red;>***å¿…é¡»ç¼–å†™äº†ä¸€ä¸ªå…·æœ‰å…¼å®¹ç­¾åçš„å‡½æ•°å®ç°***</span>
>
> :grey_exclamation:==***<u>åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œæ€»æ˜¯å€¾å‘äºä½¿ç”¨è”åˆç±»å‹çš„å‚æ•°è€Œä¸æ˜¯é‡è½½å‚æ•°</u>***==

~~~typescript
// é‡è½½ç­¾å
function makeDate(timestamp: number): Date;
function makeDate(m: number, d: number, y: number): Date;
// å®ç°ç­¾å
function makeDate(mOrTimestamp: number, d?: number, y?: number): Date {
    if (d !== undefined && y !== undefined) {
        return new Date(y, mOrTimestamp, d);
    } else {
        return new Date(mOrTimestamp);
    }
}

// å¿…é¡»ä»¥é‡è½½ç­¾åçš„å½¢å¼è°ƒç”¨
const d1 = makeDate(1667911757230);
const d2 = makeDate(8, 11, 2022);
d1.toLocaleString(); // => 2022/11/8 20:49:17
d2.toLocaleString(); // 2022/9/11 00:00:00
~~~















### å…ƒç»„ç±»å‹

> ==***å…ƒç»„ç±»å‹æ˜¯å¦ä¸€ç§`Array`ç±»å‹ï¼Œç¡®åˆ‡åœ°æŒ‡å®šåŒ…å«å¤šå°‘ä¸ªå…ƒç´ ï¼Œä»¥åŠç‰¹å®šç´¢å¼•ä½ç½®å¯¹åº”çš„ç±»å‹***==
>
> :grey_exclamation:==***<span style=color:red;>å¦‚æœç´¢å¼•è¶…è¿‡å…ƒç´ çš„æ•°é‡ï¼Œåˆ™æŠ¥é”™</span>***==

~~~typescript
const position: [number, number] = [1, 2];

position; // => [ 1, 2 ]

// è·å–å…ƒç´ 
position[0] // => 1

// è§£æ„å…ƒç»„
const [x, y] = position;
x // => 1
~~~













#### å¯é€‰å±æ€§

> ==***å…ƒç»„å¯ä»¥é€šè¿‡å†™å‡º`?`æ¥å…·æœ‰å¯é€‰å±æ€§ï¼Œå¯é€‰çš„å…ƒç»„å…ƒç´ åªèƒ½å‡ºç°åœ¨æœ«å°¾***==

~~~typescript
type Either2dOr3d = [number, number, number?];
 
function setCoordinate(coord: Either2dOr3d): number {
    const [x, y, z] = coord; // const z: number | undefined
    return coord.length; // length: 2 | 3
}

setCoordinate([1, 2]);		// => 2
setCoordinate([1, 2, 3]);	// => 3
~~~













#### åªè¯»å…ƒç»„ç±»å‹

~~~typescript
const obj: readonly [number, string] = [73, 'shuang'];
~~~















### æšä¸¾

> ==***`enum`å…³é”®å­—å®šä¹‰ä¸€ç»„å‘½åå¸¸é‡***==

~~~typescript
enum Direction {
    Up,
    Down,
    Left,
    Right,
}
~~~

















#### æ•°å­—æšä¸¾

> :grey_exclamation:==***<span style=color:red;>æšä¸¾ä¸­çš„ç¬¬ä¸€ä¸ªæˆå‘˜ï¼Œå½“æ²¡æœ‰åˆå§‹å€¼è®¾å®šé¡¹ï¼Œé»˜è®¤åˆ†é…å€¼`0`</span>***==
>
> :grey_exclamation:==***å®Œå…¨çœç•¥åˆå§‹å€¼è®¾å®šé¡¹æ—¶ï¼Œæšä¸¾æˆå‘˜çš„å€¼å°†æ˜¯å‰é¢çš„æšä¸¾æˆå‘˜çš„å€¼åŠ `1`***==

~~~typescript
enum Direction {
    Up,
    Down,
    Left,
    Right,
}

Direction.Up;		// => 0
Direction.Down;		// => 1
Direction.Left; 	// => 2
Direction.Right;	// => 3
~~~















#### å­—ç¬¦ä¸²æšä¸¾

> :grey_exclamation:==***<span style=color:red;>åœ¨å­—ç¬¦ä¸²æšä¸¾ä¸­ï¼Œæ¯ä¸ªæˆå‘˜éƒ½å¿…é¡»ä½¿ç”¨å­—ç¬¦ä¸²æ–‡æœ¬æˆ–å¦ä¸€ä¸ªå­—ç¬¦ä¸²æšä¸¾æˆå‘˜è¿›è¡Œå¸¸é‡åˆå§‹åŒ–</span>***==
>
> :grey_exclamation:==***å­—ç¬¦ä¸²æšä¸¾æ²¡æœ‰è‡ªåŠ¨é€’å¢è¡Œä¸º***==

~~~typescript
enum Direction {
    Up = "UP",
    Down = "DOWN",
    Left = "LEFT",
    Right = "RIGHT",
}
~~~













#### å¼‚æ„æšä¸¾

~~~typescript
enum BooleanEnum {
    No = 0,
    Yes = "YES",
}
~~~













#### åå‘æ˜ å°„

> ==***æ•°å­—æšä¸¾æˆå‘˜è¿˜å¯ä»¥è·å¾—ä»æšä¸¾å€¼åˆ°æšä¸¾åç§°çš„<span style=color:red;>åå‘æ˜ å°„</span>***==

~~~typescript
enum Enum {
    A,
}
 
let a = Enum.A;
Enum[a]; // => "A"
~~~













#### å¸¸é‡æšä¸¾

> :grey_exclamation:==***<span style=color:red;>åœ¨ç¼–è¯‘é˜¶æ®µè¢«åˆ é™¤ï¼Œå¹¶ä¸”ä¸èƒ½åŒ…å«è®¡ç®—æˆå‘˜</span>***==

~~~typescript
const enum Direction {
    Up,
    Down,
    Left,
    Right,
}
 
let directions = [
    Direction.Up,
    Direction.Down,
    Direction.Left,
    Direction.Right,
];

/* åœ¨ç”Ÿæˆçš„ä»£ç ä¸­å°†æˆä¸º */
"use strict";
let directions = [
    0 /* Direction.Up */,
    1 /* Direction.Down */,
    2 /* Direction.Left */,
    3 /* Direction.Right */,
];
~~~













#### å¯¹è±¡ä¸æšä¸¾

> :grey_exclamation:==***å½“ä¸€ä¸ªå¯¹è±¡è¶³ä»¥æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ï¼Œå¯èƒ½ä¸éœ€è¦æšä¸¾,å¯ä½¿ç”¨`as const`***==

~~~typescript
const Direction = {
    Up: 0,
    Down: 1,
    Left: 2,
    Right: 3,
} as const;

Direction.Up;	// => 0
Direction.Down;	// => 1
~~~























### viod

> ==**`void`è¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹**==
>
> :grey_exclamation:==***å‡½æ•°çš„`void`è¿”å›ç±»å‹å¯ä»¥äº§ç”Ÿä¸€äº›ä¸å¯»å¸¸çš„æƒ…å†µ:***==
>
> 1. <span style=color:black;>ä¸€ä¸ªå…·æœ‰`void`è¿”å›ç±»å‹çš„ä¸Šä¸‹æ–‡å‡½æ•°ç±»å‹`(type fn = () => void)`ï¼Œåœ¨å®ç°æ—¶ï¼Œå¯ä»¥è¿”å›ä»»ä½•å…¶ä»–çš„å€¼ï¼Œä½†å®ƒä¼šè¢«å¿½ç•¥</span>
> 2. <span style=color:black;>å½“ä¸€ä¸ªå­—é¢çš„å‡½æ•°å®šä¹‰æœ‰ä¸€ä¸ª`void`çš„è¿”å›ç±»å‹æ—¶ï¼Œè¯¥å‡½æ•°å¿…é¡»ä¸è¿”å›ä»»ä½•ä¸œè¥¿</span>

~~~typescript
// å‡½æ•°ï¼šå‡½æ•°æ²¡æœ‰è¿”å›å€¼
function fn(args...): void { ... }

// å˜é‡: åªèƒ½èµ‹äºˆundefined
let unusable: void = undefined;
~~~

~~~typescript
// æƒ…å†µ(1)
const fn: () => void = () => {
    return true
}

const ret: void = fn() // const ret: void
ret; // => true

// æƒ…å†µ(2)
function fn(): void {
    return false // Type 'boolean' is not assignable to type 'void'.
}
~~~



















### any

>==**`any`ä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹ï¼Œå®šä¹‰ä¸º`any`ç±»å‹çš„å˜é‡å…è®¸è¢«èµ‹å€¼ä¸ºä»»æ„ç±»å‹**==
>
>â—***<span style=color:red;>ä¸æ¨èä½¿ç”¨</span>***
>
>:grey_exclamation:==***ä»¥ä¸‹æƒ…å†µ `TypeScreipt`ä¼šé»˜è®¤éšå¼å…·æœ‰`any`ç±»å‹***==
>
>+ <span style=color:black;>*å£°æ˜å˜é‡ä¸æä¾›ç±»å‹ä¸ä¸æä¾›é»˜è®¤å€¼*</span>
>+ <span style=color:black;>*å‡½æ•°å‚æ•°ä¸æä¾›ç±»å‹*</span>

~~~typescript
let value: any = 19;
value = 'linke';
~~~





















### unknown

> ==**`unknown`è¡¨ç¤ºä»»ä½•å€¼ï¼Œç±»ä¼¼äºç±»å‹`any`ï¼Œä½†`unknown`æ›´å®‰å…¨**==

~~~typescript
function f1(a: any) {
    a.b(); // OK
}

function f2(a: unknown) {
    a.b(); // Object is of type 'unknown'.
}
~~~

















### never

> ==**`never`è¡¨ç¤ºæ°¸è¿œä¸ä¼šæœ‰å€¼çš„ä¸€ç§ç±»å‹**==

~~~typescript
function fail(msg: string): never {
    throw new Error(msg);
}
~~~





















## ğŸŒŸé«˜çº§ç±»å‹

### ğŸ”˜Class

> ==***`TypeScript`å®Œå…¨æ”¯æŒ`ES2015`ä¸­å¼•å…¥çš„`class`å…³é”®å­—***==

~~~typescript
// æ–¹å¼(1)
class Point {}

// æ–¹å¼(2): ä½¿ç”¨è¡¨è¾¾å¼
const Point = class {}
~~~











#### é¢†åŸŸ

> ==***å­—æ®µå£°æ˜åœ¨ç±»ä¸Šåˆ›å»ºå…¬å…±å¯å†™å±æ€§***==
> :grey_exclamation:==***<span style=color:red;>ç±»å‹æ³¨é‡Šæ˜¯å¯é€‰çš„ï¼Œä½†å°†æ˜¯æœªæŒ‡å®šçš„éšå¼æ³¨é‡Š`any`</span>***==
>
> :grey_exclamation:==***<span style=color:red;>ç±»å±æ€§çš„åˆå§‹å€¼è®¾å®šé¡¹å°†ç”¨äºæ¨æ–­å…¶ç±»å‹</span>***==
>
> + <span style=color:black;>***æ­£å¸¸æ„å»ºéœ€è¦åˆå§‹åŒ–***</span>
> + <span style=color:black;>***ä¸åˆå§‹åŒ–ï¼Œéœ€è¦ä½¿ç”¨`!`æ–­è¨€***</span>

~~~typescript
class Point {
    x: number;
    y: number;
    z!: number; // ä½¿ç”¨â€œ!â€æ–­è¨€

    // æ­£å¸¸æ„å»ºéœ€è¦åˆå§‹åŒ–
    constructor() {
        this.x = 1;
        this.y = 1;
    }
}

const pt = new Point();
pt; // => Point { x: 1, y: 1 }

pt.x = 0;
pt.y = 0;
pt.z = 0;
pt; // => Point { x: 0, y: 0, z: 0 }
~~~















#### åªè¯»

> ==***`readonly`å…³é”®å­—ï¼Œé˜²æ­¢èµ‹å€¼åˆ°æ„é€ å‡½æ•°å¤–éƒ¨çš„<span style=color:red;>å±æ€§</span>***==
>
> :grey_exclamation:***<span style=color:red;>å¦‚æœ`readonly`å±æ€§æœ‰åˆå§‹åŒ–è€Œæ— ç±»å‹æ³¨è§£ï¼Œåˆ™ç±»å‹è‡ªåŠ¨æ¨æ–­ä¸ºæ–‡æœ¬ç±»å‹</span>***

~~~typescript
class Obj {
	readonly name: string = 'linke'; // Obj.name: string
    readonly age = 19; // Obj.age: 19

    constructor(otherName?: string) {
        if (otherName !== undefined) {
            this.name = otherName;
        }
    }
    
    err() {
        this.name = "yiyi"; // Cannot assign to 'name' because it is a read-only property.
    }
}

const o = new Obj('keke'); // OK
o; // => Obj { name: 'dudu' }

o1.name = 'keke'; // Cannot assign to 'name' because it is a read-only property.
~~~















#### æ„é€ å‡½æ•°

> ==***ç±»æ„é€ å‡½æ•°ä¸å‡½æ•°éå¸¸ç›¸ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨ç±»å‹æ³¨é‡Šã€é»˜è®¤å€¼å’Œé‡è½½æ·»åŠ å‚æ•°***==
>
> + <span style=color:black;>*æ„é€ å‡½æ•°ä¸èƒ½æœ‰ç±»å‹å‚æ•°*</span>
> + <span style=color:black;>*æ„é€ å‡½æ•°ä¸èƒ½æœ‰è¿”å›ç±»å‹æ³¨é‡Š*</span>

~~~typescript
class Point {
    x: number;
    y: number;
 
    constructor(x = 0, y = 0) {
        this.x = x;
        this.y = y;
    }
}
~~~















#### æ–¹æ³•

~~~typescript
class Point {
    x = 10;
    y = 10;
 
    scale(n: number): void {
        this.x *= n;
        this.y *= n;
    }
}

const p = new Point();
p.scale(2);
p; // => Points { x: 20, y: 20 }
~~~













#### get/set

> ==***`TypeScript`å¯¹è®¿é—®å™¨æœ‰ä¸€äº›ç‰¹æ®Šçš„æ¨ç†è§„åˆ™:***==
>
> + <span style=color:black;>*å¦‚æœå­˜åœ¨`get`ï¼Œä½†æ²¡æœ‰`set`ï¼Œåˆ™è¯¥å±æ€§è‡ªåŠ¨æ˜¯åªè¯»çš„*</span>
> + <span style=color:black;>*å¦‚æœæ²¡æœ‰æŒ‡å®š`setter`å‚æ•°çš„ç±»å‹ï¼Œå®ƒå°†ä»`getter`çš„è¿”å›ç±»å‹ä¸­æ¨æ–­å‡ºæ¥*</span>
> + <span style=color:black;>*è®¿é—®å™¨å’Œè®¾ç½®å™¨å¿…é¡»æœ‰ç›¸åŒçš„æˆå‘˜å¯è§æ€§*</span>

~~~typescript
class Thing {
    _size = 0;
 
    get size(): number {
        return this._size;
    }
 
    set size(value: string | number | boolean) {
        let num = Number(value);
        if (!Number.isFinite(num)) {
            this._size = 0;
            return;
        }
        this._size = num;
    }
}
~~~



















#### ç»§æ‰¿

> ==***ç±»å¯ä»¥ä½¿ç”¨`extends`ä»åŸºç±»æ‰©å±•,æ´¾ç”Ÿç±»å…·æœ‰å…¶åŸºç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œè¿˜å®šä¹‰å…¶ä»–æˆå‘˜***==

~~~typescript
class Father {
    work() {
        console.log('work.');
    }
}

// ç»§æ‰¿
class Son extends Father {
    study() {
        console.log('study.');
        return this;
    }
}

const son = new Son();
son.study().work(); // => study. work.
~~~













##### ç»§æ‰¿å†…ç½®ç±»å‹

~~~typescript
class MsgError extends Error {
    constructor(m: string) {
        super(m);
        
        // es5 éœ€è¦æ˜ç¡®åœ°è®¾ç½®åŸå‹
        // Object.setPrototypeOf(this, MsgError.prototype);
    }
}

const msgError = new MsgError('info');
msgError instanceof MsgError; // => true
~~~



















#### å®ç°

> ==***`implements`å…³é”®å­—ç”¨äºå°†ç±»å®ç°ä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ï¼Œå¤šä¸ªæ¥å£ä¹‹é—´ä½¿ç”¨`,`éš”å¼€***==
>
> :grey_exclamation:==***<span style=color:red;>ç±»å¿…é¡»é‡å†™å…¼å®¹æ¥å£ä¸­çš„æ‰€æœ‰æ–¹æ³•å’Œå±æ€§</span>***==
>
> :grey_exclamation:==***<span style=color:red;>å¯é€‰å±æ€§ä¸ä¼šè¦æ±‚å®ç°ç±»å»å®ç°</span>***==

~~~typescript
interface Person {
    x?: number; // å¯é€‰å±æ€§
    eat(): void;
}

// æ­£ç¡®çš„ç»§æ‰¿
class Male implements Person {
    eat() {
        console.log("eat!");
    }
}

const male = new Male();
male.eat(); // => eat!

// é”™è¯¯çš„ç»§æ‰¿
class Female implements Person {
    // Class 'Female' incorrectly implements interface 'Person'.
    // Property 'eat' is missing in type 'Female' but required in type 'Person'.
}
~~~















#### å¯è§æ€§

##### public

>==***ç±»æˆå‘˜çš„é»˜è®¤å¯è§æ€§ä¸º`public`ï¼šå…¬å…±çš„ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è®¿é—®ï¼Œå¯çœç•¥***==

~~~typescript
class User {
    public toCreate() {
        console.log('2022/11/9');
    }
}

const user = new User();
user.toCreate(); // => 2022/11/9
~~~











##### protected

> ==***`protected`æˆå‘˜ä»…å¯¹å£°æ˜å®ƒä»¬çš„ç±»ä¸å…¶å­ç±»å¯è§ï¼Œæ¥ä¿®é¥°è¯¥å±æ€§æˆ–æ–¹æ³•æ˜¯å—ä¿æŠ¤çš„***==

~~~typescript
class Father {
    greet() {
        console.log("Hello, " + this.getName());
    }

    protected getName() {
        return "linke";
    }
}

class Son extends Father {
    howdy() {
        console.log('Howdy, ' + this.getName());
    }
}

const son = new Son();
son.greet(); // => Hello, linke
son.howdy(); // => Howdy, linke
son.getName(); // Property 'getName' is protected and only accessible within class 'Father' and its subclasses.
~~~













##### private

> ==***`private`ç§æœ‰çš„ï¼Œä¸å…è®¸ä»å­ç±»è®¿é—®æˆå‘˜***==
>
> :grey_exclamation:==***<span style=color:red;>å…è®¸åœ¨ç±»å‹æ£€æŸ¥æœŸé—´ä½¿ç”¨æ‹¬å·è¡¨ç¤ºæ³•è¿›è¡Œè®¿é—®</span>***==

~~~typescript
class Base {
    private x = 0;
}

const base = new Base();
base.x;		// Property 'x' is private and only accessible within class 'Base'.
base['x'];	// => 0

class Derived extends Base {
     x = 1; // Class 'Derived' incorrectly extends base class 'Base'. Property 'x' is private in type 'Base' but not in type 'Derived'.
    showX() {
        console.log(this.x); // Property 'x' is private and only accessible within class 'Base'.
    }
}
~~~















#### thiså‚æ•°

~~~typescript
class MyClass {
    name = "MyClass";
    getName(this: MyClass) {
        return this.name;
    }
    updateName(this: MyClass, newName: string) {
        this.name = newName
    }
}

const c = new MyClass();
c.updateName('MyClass Plus'); // => OK
c.getName();	// => MyClass Plus
~~~













#### thisç±»å‹æ³¨è§£

~~~typescript
class Box {
    content: string = "";
    sameAs(other: this) {
        return other.content === this.content;
    }
}

class DerivedBox extends Box {
    
}

const b = new Box();
b.sameAs(b); // => true
~~~













#### å‚æ•°å±æ€§

~~~typescript
class Params {
    constructor(
    	public readonly x: number,
        protected y: number,
        private z: number
	) {
    	// ...        
	}
}

const p = new Params(1, 2, 3);
p.x; // => 1
p.y; // Property 'y' is protected and only accessible within class 'Params' and its subclasses.
p.z; // Property 'z' is private and only accessible within class 'Params'.
~~~















#### æŠ½è±¡

> ==***`TypeScript`ä¸­çš„ç±»ã€æ–¹æ³•å’Œå­—æ®µå¯èƒ½æ˜¯æŠ½è±¡çš„`abstract`***==
>
> :grey_exclamation:==***<span style=color:red;>æŠ½è±¡æ–¹æ³•æˆ–æŠ½è±¡å­—æ®µæ˜¯å°šæœªæä¾›å®ç°çš„æ–¹æ³•æˆ–æŠ½è±¡å­—æ®µï¼› è¿™äº›æˆå‘˜å¿…é¡»å­˜åœ¨äºæŠ½è±¡ç±»ä¸­ï¼ŒæŠ½è±¡ç±»ä¸èƒ½ç›´æ¥å®ä¾‹åŒ–</span>***==
>
> :grey_exclamation:==***æŠ½è±¡ç±»çš„ä½œç”¨æ˜¯å……å½“å®ç°æ‰€æœ‰æŠ½è±¡æˆå‘˜çš„å­ç±»çš„åŸºç±»ï¼› å½“ä¸€ä¸ªç±»æ²¡æœ‰ä»»ä½•æŠ½è±¡æˆå‘˜æ—¶ï¼Œå®ƒè¢«ç§°ä¸º<span style=color:red;>å…·ä½“çš„</span>***==

~~~typescript
abstract class Base {
    abstract getName(): string;
 
    printName() {
        console.log("Hello, " + this.getName());
    }
}

class Derived extends Base { // å¿…é¡»é‡å†™åŸºæœ¬çš„æŠ½è±¡æ–¹æ³•ä¸å±æ€§
    getName() {
        return "linke";
    }
}

const d = new Derived();
d.printName(); // => Hello, linke
~~~















#### ä¼ æ’­

> :grey_exclamation:==***ä¼ æ’­å¯¹è±¡çš„å®ä¾‹æ—¶ä¼šä¸¢å¤±æ–¹æ³•***==

~~~typescript
class Cla {
    age = 19;
    fn() {}
}

let cla = new Cla();
let clone = { ...cla };
clone.age; // => 19
clone.fn(); // Property 'fn' does not exist on type '{ age: number; }'.
~~~

















### äº¤å‰ç‚¹ç±»å‹

> ==***äº¤é›†ç±»å‹æ˜¯ä½¿ç”¨`&`è¿ç®—ç¬¦å®šä¹‰çš„ï¼Œé€šè¿‡æ‰©å±•ä»å…¶ä»–ç±»å‹æ„å»ºçš„æ–°ç±»å‹ç§°ä¸º<span style=color:red;>äº¤é›†ç±»å‹çš„æ„é€ </span>***==

~~~typescript
interface Colorful {
    color: string;
}

interface Circle {
    radius: number;
}

// å®šä¹‰äº¤é›†ç±»å‹
type ColorfulCircle = Colorful & Circle;
let cc: ColorfulCircle = { color: 'skyblue', radius: 5 }; // => OK
~~~













#### æ¥å£ä¸äº¤å‰ç‚¹

+ <span style=color:black;>**ç›¸åŒç‚¹**ï¼š==éƒ½å¯ä»¥å®ç°å¯¹è±¡ç±»å‹çš„ç»„åˆ==</span>
+ <span style=color:black;>**ä¸åŒç‚¹**ï¼š==ä¸¤ç§æ–¹å¼å®ç°ç±»å‹ç»„åˆæ—¶ï¼Œå¯¹äºåŒåå±æ€§ä¹‹é—´ï¼Œæ¥å£ç±»å‹ä¸ä¼šå…¼å®¹ï¼Œäº¤å‰ç‚¹ä¼šè”åˆ==</span>

~~~typescript
// æ¥å£
interface A {
    fn: (value: number) => void
}

interface B extends A { // Types of parameters 'value' and 'value' are incompatible. ...
    fn: (value: string) => void
}
~~~

~~~typescript
// äº¤å‰ç‚¹
interface A {
    fn: (value: number) => void
}

interface B {
    fn: (value: string) => void
}

const C: A & B = {
    fn(value: number | string) { ... }
}
~~~



















### ğŸš©æ³›å‹

> ==**<span style=color:red;>æ³›å‹ï¼šåœ¨å®šä¹‰å‡½æ•°/æ¥å£/ç±»å‹æ—¶ï¼Œä¸é¢„å…ˆæŒ‡å®šå…·ä½“çš„ç±»å‹ï¼Œè€Œæ˜¯åœ¨ä½¿ç”¨çš„æ—¶å€™åœ¨æŒ‡å®šç±»å‹é™åˆ¶çš„ä¸€ç§ç‰¹æ€§</span>**==













#### æ³›å‹å‡½æ•°

>~~~typescript
>function fn<Type>(arg: Type): Type { return arg }
>~~~
>
>+ <span style=color:black;>**è¯­æ³•**:åœ¨å‡½æ•°åç§°çš„åé¢æ·»åŠ `<>`(å°–æ‹¬å·)ï¼Œå°–æ‹¬å·ä¸­æ·»åŠ ç±»å‹å˜é‡</span>
>+ <span style=color:black;>ç±»å‹å˜é‡(å¦‚`Type`)æ˜¯ä¸€ç§ç‰¹æ®Šç±»å‹çš„å˜é‡ï¼Œå¤„ç†ç±»å‹è€Œä¸æ˜¯å€¼</span>
>+ <span style=color:black;>è¯¥ç±»å‹å˜é‡ç›¸å½“äºä¸€ä¸ªç±»å‹å®¹å™¨ï¼Œèƒ½å¤Ÿæ•è·ç”¨æˆ·æä¾›çš„ç±»å‹ï¼Œå› æ­¤å¯ä»¥å°†å…¶ä½œä¸ºå‡½æ•°å‚æ•°å’Œè¿”å›å€¼çš„ç±»å‹</span>
>+ <span style=color:black;>ç±»å‹å˜é‡å¯ä»¥æ˜¯ä»»æ„åˆæ³•çš„å˜é‡åç§°</span>

~~~typescript
function identity<Type>(arg: Type): Type {
    return arg;
}

identity<number>(1); // => 1
identity<number | string>('1'); // => '1'

// åœ¨è°ƒç”¨æ³›å‹å‡½æ•°æ—¶ï¼Œå¯çœç•¥<ç±»å‹>æ¥ç®€åŒ–æ³›å‹å‡½æ•°çš„è°ƒç”¨ï¼ŒTypeScript ä¼šæ ¹æ®å®å‚è‡ªåŠ¨åˆ¤æ–­ç±»å‹å˜é‡çš„ç±»å‹
identity(true); // function identity<true>(arg: true): true

// å¯ä½¿ç”¨å¤šä¸ªæ³›å‹
function map<Input, Output>(arr: Input[], func: (arg: Input) => Output): Output[] {
    return arr.map(func);
}

map(['1', '2', '3'], n => parseInt(n)); // => [ 1, 2, 3 ]
~~~

~~~typescript
function id<T>(arg: T): T {
    return arg
}

// ä¸¤ç§æ–¹å¼ç­‰åŒ
let myId1: <T>(arg: T) => T = id;	// let myId1: <T>(arg: T) => T
let myId2: { <T>(arg: T): T } = id; // let myId2: <T>(arg: T) => T
~~~

















#### æ³›å‹çº¦æŸ

> ==**å¯ä»¥ä½¿ç”¨`extends`è¿›è¡Œæ³›å‹çº¦æŸæ¥æ”¶ç¼©ç±»å‹(ç¼©çª„ç±»å‹å–å€¼èŒƒå›´)**==

~~~typescript
interface Lengthwise {
    length: number;
}

function loggingIdentity<Type extends Lengthwise>(arg: Type): number {
    return arg.length
}

loggingIdentity([1, 2, 3]);		// => 3
loggingIdentity({ length: 5 }); // => 5
loggingIdentity('a');			// => 1
~~~













##### åœ¨æ³›å‹çº¦æŸä¸­ä½¿ç”¨ç±»å‹å‚æ•°

> ==**æ³›å‹çš„ç±»å‹å˜é‡å¯ä»¥æœ‰å¤šä¸ªï¼Œä½¿ç”¨`,`åˆ†éš”ï¼Œå¹¶ä¸”ç±»å‹å˜é‡ä¹‹é—´è¿˜å¯ä»¥è¿›è¡Œç±»å‹çº¦æŸ**==

~~~typescript
function getProperty<Type, Key extends keyof Type>(obj: Type, key: Key) {
    return obj[key];
}

let x = { a: 1, b: 2, c: 3, d: 4 };
 
getProperty(x, "a"); // => 1
getProperty(x, "m"); // Argument of type '"m"' is not assignable to parameter of type '"a" | "b" | "c" | "d"'.
~~~

















#### åœ¨æ³›å‹ä¸­ä½¿ç”¨ç±»ç±»å‹

~~~typescript
class Params {
    id = 1
}

// function create<Type>(c: new () => Type ): Type { // æ–¹å¼(1)
function create<Type>(c: { new (): Type }): Type { // æ–¹å¼(2)
    return new c();
}

create(Params).id; // => 1
~~~















#### æ³›å‹æ¥å£

> ==**æ¥å£ä¹Ÿå¯ä»¥é…åˆæ³›å‹æ¥ä½¿ç”¨ï¼Œåœ¨`interface`åç§°åé¢æ·»åŠ `<ç±»å‹å˜é‡>`**==
>
> :grey_exclamation:==***<span style=color:red;>ä½¿ç”¨æ³›å‹æ¥å£æ—¶ï¼Œéœ€è¦æ˜¾ç¤ºæŒ‡å®šå…·ä½“çš„ç±»å‹å˜é‡</span>***==

~~~typescript
interface Func<Type> {
    inc: (value: Type) => Type
}

let obj: Func<number> = {
    inc(value) {
        return value
    }
}
~~~















#### æ³›å‹ç±»

> ==**æ³›å‹ç±»çš„å½¢çŠ¶ä¸æ³›å‹æ¥å£ç±»ä¼¼ï¼Œåœ¨`class`åç§°åé¢æ·»åŠ `<ç±»å‹å˜é‡>`**==

~~~typescript
class GenericNumber<NumType> {
    defaultValue!: NumType;
    add!: (x: NumType, y: NumType) => NumType;
    
    // å¯æä¾›æ„é€ å‡½æ•°åˆå§‹åŒ–æ•°æ®
    constructor(value?: NumType) {
        if (value) {
            this.defaultValue = value
        }
    s}
}

let myGenericNumber = new GenericNumber<number>();
myGenericNumber.defaultValue = 0;
myGenericNumber.add = function(x, y) {
    return x + y;
}
myGenericNumber.add(myGenericNumber.defaultValue, 1); // => 1

// åˆå§‹åŒ–æ•°æ®ä»¥ç®€åŒ–<ç±»å‹>ä¹¦å†™ï¼Œtsä¼šç±»å‹æ¨æ–­
let myGenericNumber2 = new GenericNumber('a'); // OK
~~~

















#### æ³›å‹å·¥å…·ç±»å‹

> [æ³›å‹å·¥å…·ç±»å‹](https://www.typescriptlang.org/docs/handbook/utility-types.html): æ¥ä¿ƒè¿›å¸¸è§çš„ç±»å‹è½¬æ¢









##### Partial\<Type\>

> ==**æ„é€ ä¸€ä¸ªç±»å‹ï¼Œå…¶ä¸­æ‰€æœ‰å±æ€§éƒ½è®¾ç½®ä¸º<span style=color:red;>å¯é€‰</span>**==

~~~typescript
interface Props {
    id: number;
    name: string;
}

type PartialProps = Partial<Props>;
const props: PartialProps = { id: 1 }; // OK
~~~















##### Required\<Type\>

>==**æ„é€ ä¸€ä¸ªç±»å‹ï¼Œå…¶ä¸­æ‰€æœ‰å±æ€§éƒ½è®¾ç½®ä¸º<span style=color:red;>å¿…é€‰</span>**==

~~~typescript
interface Props {
    id?: number;
    name?: string;
}

const props: Props = { id: 5 }; // OK
const props2: Required<Props> = { id: 5 }; // Property 'name' is missing in type '{ id: number; }' but required in type 'Required<Props>'.
~~~















##### Readonly\<Type\>

>==**æ„é€ ä¸€ä¸ªç±»å‹ï¼Œå…¶ä¸­æ‰€æœ‰å±æ€§éƒ½è®¾ç½®ä¸º<span style=color:red;>åªè¯»</span>**==

~~~typescript
interface Props {
    title: string;
}
 
const props: Readonly<Props> = {
    title: "Title content",
};
 
props.title = "Hello"; // Cannot assign to 'title' because it is a read-only property.
~~~















##### Pick<Type, Keys>

>==**é€šè¿‡ä»ä¸­é€‰æ‹©å±æ€§é›†æ¥æ„é€ ä¸€ä¸ªç±»å‹**==
>
>+ <span style=color:black;>`Type`: æŒ‡å®šå“ªä¸ªç±»å‹ä¸­æ„å»º</span>
>+ <span style=color:black;>`Keys`: æŒ‡å®šç±»å‹ä¸­çš„å±æ€§ï¼Œä¸€ä¸ªæˆ–å¤šä¸ª</span>

~~~typescript
interface Props {
    id: number;
    name: string;
    children: number[]
}

type PickProps = Pick<Props, 'id' | 'name'>;
const props: PickProps = { id: 1, name: 'linke' }; // OK
~~~















##### Omit<Type, Keys>

> ==**é€šè¿‡ä»`Type`ä¸­é€‰å–æ‰€æœ‰å±æ€§ç„¶ååˆ é™¤`Keys`æ¥æ„é€ ä¸€ä¸ªç±»å‹**==
>
> + <span style=color:black;>`Type`: æŒ‡å®šå“ªä¸ªç±»å‹ä¸­æ„å»º</span>
> + <span style=color:black;>`Keys`: æŒ‡å®šç±»å‹ä¸­çš„å±æ€§ï¼Œä¸€ä¸ªæˆ–å¤šä¸ª</span>

~~~typescript
interface Props {
    id: number;
    name: string;
    children: number[]
}

type OmitProps = Omit<Props, 'children'>;
const props: OmitProps = { id: 1, name: 'keke' }; // OK
~~~

















##### Record<Keys, Type>

> ==æ„é€ å…¶å±æ€§é”®ä¸º`Keys`å’Œå±æ€§å€¼ä¸º`Type`çš„å¯¹è±¡ç±»å‹==
>
> + <span style=color:black;>`keys`: å¯¹è±¡ä¸­çš„å±æ€§</span>
> + <span style=color:black;>`Type`: å¯¹è±¡å±æ€§çš„ç±»å‹</span>

~~~typescript
interface Info {
    name: string;
    age: number;
}

type user = 'dudu' | 'keke' | 'yiyi';
const infos: Record<user, Info> = {
    dudu: { name: 'dudu', age: 11 },
    keke: { name: 'keke', age: 10 },
    syiyi: { name: 'yiyi', age: 10 }
}
~~~















#### ğŸš§ä¼˜ç§€è°ƒç”¨å‡½æ•°çš„å‡†åˆ™

1. ==***åœ¨å¯èƒ½çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨ç±»å‹å‚æ•°æœ¬èº«ï¼Œè€Œä¸æ˜¯å¯¹å…¶è¿›è¡Œçº¦æŸ***==
2. ==***æ€»æ˜¯å°½å¯èƒ½å°‘åœ°ä½¿ç”¨ç±»å‹å‚æ•°***==
3. ==***ç±»å‹å‚æ•°åº”å‡ºç°ä¸¤æ¬¡***==

















### ç´¢å¼•ç­¾å

> ==**ä¸çŸ¥é“ç±»å‹å±æ€§çš„æ‰€æœ‰åç§°ï¼Œä½†æ‚¨çŸ¥é“å€¼çš„å½¢çŠ¶ï¼Œæ­¤æ—¶å°±å¯ä½¿ç”¨ç´¢å¼•ç­¾å**==

~~~typescript
interface NumberDictionary {
    [index: string]: number; // index è¡¨ç¤ºä¸€ä¸ªå ä½ç¬¦,å¯ä»¥æ¢æˆä»»æ„åˆæ³•åç§°
}

const obj: NumberDictionary = {
    'a': 1,
    'b': 2,
}

// ä½¿ç”¨ readonly åˆ›å»ºåªè¯»ç´¢å¼•
interface ReadonlyStringArray {
    readonly [index: number]: string;
}
 
let myArray: ReadonlyStringArray = ['1', '2', '3'];
myArray[2];	// => '3'
myArray[3] = '4'; // Index signature in type 'ReadonlyStringArray' only permits reading.


// ç´¢å¼•ç­¾åä¹Ÿå¯ä»¥æ˜¯å±æ€§ç±»å‹çš„è”åˆ
interface NumberOrStringDictionary {
    [index: string]: number | string;
    length: number;
    name: string;
}

let obj: NumberOrStringDictionary = {
    x: 1,
    length: 1,
    name: 'dudu'
}
~~~















### ç´¢å¼•è®¿é—®ç±»å‹

> ==***å¯ä»¥ä½¿ç”¨ç´¢å¼•è®¿é—®ç±»å‹åœ¨å¦ä¸€ç§ç±»å‹ä¸ŠæŸ¥æ‰¾ç‰¹å®šå±æ€§***==

~~~typescript
type Person = { age: number; name: string; };
type Age = Person["age"];			// type Age = number

type I1 = Person["age" | "name"];	// type I1 = string | number
type I2 = Person[keyof Person];		// type I2 = string | number
type AgeOrName = "age" | "name";
type I3 = Person[AgeOrName];		// type I3 = string | number
type I4 = Person["alive"];			// Property 'alive' does not exist on type 'Person'.

// è·å–æ•°ç»„å…ƒç´ çš„ç±»å‹
const MyArray = [
    { name: "dudu", age: 10 },
    { name: "keke", age: 11 },
    { name: "yiyi", age: 10 },
];
 
type Person = typeof MyArray[number];		// type Person = { name: string; age: number; }
type Age = typeof MyArray[number]['age'];	// type Age = number
~~~















### æ¡ä»¶ç±»å‹

> ==**[æ¡ä»¶ç±»å‹](https://www.typescriptlang.org/docs/handbook/2/conditional-types.html)é‡‡ç”¨çš„å½¢å¼çœ‹èµ·æ¥æœ‰ç‚¹åƒ `JavaScript` ä¸­çš„æ¡ä»¶è¡¨è¾¾å¼`condition ? trueExpression : falseExpression`**==
>
> ~~~typescript
>  SomeType extends OtherType ? TrueType : FalseType;
> ~~~

~~~typescript
interface Animal {
    live(): void;
}
interface Dog extends Animal {
    woof(): void;
}
 
type Example1 = Dog extends Animal ? number : string;	// type Example1 = number
type Example2 = RegExp extends Animal ? number : string;// type Example2 = string
~~~

~~~typescript
type NameOrId<T extends number | string> = T extends number ? number : string;
function createLabel<T extends number | string>(idOrName: T ): NameOrId<T> {
    throw ''
}

let a = createLabel(1); // let a: number
let b = createLabel('dudu'); // let b: string
~~~













#### æ¡ä»¶ç±»å‹å†…è¿›è¡Œæ¨ç†

> ==***ä½¿ç”¨`infer`å…³é”®å­—å¯æ¨æ–­ç±»å‹***==
>
> + <span style=color:black;>`infer`åªèƒ½åœ¨æ¡ä»¶ç±»å‹çš„`extends`å­å¥ä¸­ä½¿ç”¨</span>
> + <span style=color:black;>`infer`å¾—åˆ°çš„ç±»å‹åªèƒ½åœ¨`true`è¯­å¥ä¸­ä½¿ç”¨</span>

~~~typescript
type InferArray<T> = T extends (infer U)[] ? U : never;

type I0 = InferArray<[number, string]>; // string | number
type I1 = InferArray<string[]>;			// string
type I2 = InferArray<number[]>;			// number
~~~















#### åˆ†å¸ƒå¼æ¡ä»¶ç±»å‹

+ ==åˆ†å¸ƒå¼==

  ~~~typescript
  type ToArray<T> = T extends any ? T[] : never
  
  type StrArrOrNumArr = ToArray<string | number>; // type StrArrOrNumArr = string[] | number[]
  
  let strs: StrArrOrNumArr = [1]; // [1]
  ~~~

+ ==éåˆ†å¸ƒå¼==

  ~~~typescript
  type ToArrayNonDist<T> = [T] extends [any] ? T[] : never
  
  type StrArrOrNumArr = ToArrayNonDist<string | number>; // type StrArrOrNumArr = (string | number)[]
  
  let strs: StrArrOrNumArr = [1]; // [1]
  ~~~

  



















### æ˜ å°„ç±»å‹

> ==**åŸºäºæ—§ç±»å‹åˆ›å»ºæ–°ç±»å‹ï¼Œæ˜ å°„ç±»å‹åŸºäºç´¢å¼•ç­¾åçš„è¯­æ³•æ„å»º**==
>
> :grey_exclamation:***<span style=color:red;>æ˜ å°„ç±»å‹åªèƒ½åœ¨`type`ç±»å‹åˆ«åä¸­ä½¿ç”¨ï¼Œä¸èƒ½åœ¨æ¥å£ä¸­ä½¿ç”¨</span>***

~~~typescript
type PropKeys = 'x' | 'y' | 'z';
type Type = { [Key in PropKeys]: number }; // type Type = { x: number; y: number; z: number; }
	
// ç­‰åŒäºä»¥ä¸‹ä»£ç 
type Type = {
    x: number;
    y: number;
    z: number;
};
~~~















#### æ˜ å°„ä¿®é¥°ç¬¦

> :grey_exclamation:==***æ˜ å°„æœŸé—´å¯ä»¥åº”ç”¨ä¸¤ä¸ªé¢å¤–çš„ä¿®é¥°ç¬¦: `readonly`,`?`ï¼Œå®ƒä»¬åˆ†åˆ«å½±å“å¯å˜æ€§å’Œå¯é€‰æ€§***==
>
> :grey_exclamation:==***å¯ä»¥é€šè¿‡å‰ç¼€`-`,`+`æ¥åˆ é™¤æˆ–æ·»åŠ è¿™äº›ä¿®é¥°ç¬¦ï¼Œå¦‚æœä¸æ·»åŠ å‰ç¼€ï¼Œåˆ™å‡å®š`+`***==

~~~typescript
// readonly ä¿®é¥°ç¬¦
type CreateMutable<Type> = {
    -readonly [Property in keyof Type]: Type[Property];
};
type Account = {
    readonly id: string;
    readonly name: string;
};
type UnAccount = CreateMutable<Account>; // type UnAccount = { id: string; name: string; }

// ? ä¿®é¥°ç¬¦
type Concrete<Type> = {
    [Property in keyof Type]-?: Type[Property];
};
type MaybeUser = {
    id: string;
    name?: string;
    age?: number;
};
type User = Concrete<MaybeUser>; // type User = { id: string; name: string; age: number; }
~~~























## ğŸ’¡ç±»å‹å…¼å®¹æ€§

**ä¸¤ç§ç±»å‹ç³»ç»Ÿï¼š<span style=color:red;>*`TypeScript`é‡‡ç”¨çš„æ˜¯ç»“æ„åŒ–ç±»å‹ç³»ç»Ÿï¼Œç±»å‹æ£€æŸ¥å…³æ³¨çš„æ˜¯å€¼æ‰€å…·æœ‰çš„å½¢çŠ¶*</span>**

+ ***`Structural Type System`ç»“æ„åŒ–ç±»å‹ç³»ç»Ÿ***
+ ***`Nominal Type System`æ ‡æ˜ç±»å‹ç³»ç»Ÿ***













### Class

> ==***<span style=color:red;>å› ä¸º`TypeScript`æ˜¯ç»“æ„åŒ–ç±»å‹ç³»ç»Ÿï¼Œåªæ£€æŸ¥ç±»å‹çš„ç»“æ„æ˜¯å¦ç›¸åŒï¼Œæ‰€ä»¥å¦‚ä¸‹ä»£ç æ˜¯é€šè¿‡çš„ï¼›</span><span style=color:black;>å› ä¸º`Point`ä¸`Point2D`çš„ç±»å‹ç›¸åŒ(éƒ½å…·æœ‰ç›¸åŒçš„å±æ€§ï¼Œå¹¶å±æ€§ç±»å‹ä¹Ÿç›¸åŒ)</span>***==
>
> :grey_exclamation:==***<span style=color:red;>å¯¹äºå¯¹è±¡ç±»å‹æ¥è¯´ï¼Œyçš„æˆå‘˜è‡³å°‘ä¸xç›¸åŒï¼Œåˆ™xå…¼å®¹y(æˆå‘˜å¤šçš„å¯ä»¥èµ‹å€¼ç»™å°‘çš„),åä¹‹æ— æ³•å…¼å®¹</span>***==
>
> ==***ä½†æ˜¯ï¼Œå¦‚æœåœ¨ `Nominal Type System` ä¸­æ˜¯ä¸å¯ä»¥çš„ï¼Œæ— æ³•å…¼å®¹***==
>
> â—==***<span style=color:red;>ç±»ä¸­çš„ç§æœ‰æˆå‘˜å’Œå—ä¿æŠ¤æˆå‘˜ä¼šå½±å“å…¶å…¼å®¹æ€§ï¼š</span>***==
>
> + <span style=color:black;>å¦‚æœç›®æ ‡ç±»å‹åŒ…å«ç§æœ‰æˆå‘˜ï¼Œåˆ™æºç±»å‹è¿˜å¿…é¡»åŒ…å«æºè‡ªåŒä¸€ç±»çš„ç§æœ‰æˆå‘˜</span>
> + <span style=color:black;>å¦‚æœç›®æ ‡ç±»å‹åŒ…å«å—ä¿æŠ¤æˆå‘˜ï¼Œåˆ™æºç±»å‹è¿˜å¿…é¡»åŒ…å«æºè‡ªåŒä¸€ç±»çš„å—ä¿æŠ¤æˆå‘˜</span>

~~~typescript
class Point { x: number; y: number }
class Point2D { x: number; y: number }
class Point3D { x: number; y: number; z: number }

const p1: Point = new Point2D(); // => OK
const p2: Point = new Point3D(); // => OK
~~~

















### Interface

> ==***æ¥å£ä¹‹é—´çš„å…¼å®¹æ€§ï¼Œç±»ä¼¼äº`class`; å¹¶ä¸”`class`ä¸`interface`ä¹‹é—´ä¹Ÿå¯ä»¥äº’ç›¸å…¼å®¹***==

~~~typescript
interface Point { x: number; y: number }
interface Point2D { x: number; y: number }
interface Point3D { x: number; y: number; z: number }
class Point4D { x: number; y: number; z: number; j: number }

let p1!: Point;
let p2!: Point2D;
let p3!: Point3D;

p2 = p1; // => OK
p1 = p2; // => OK
p1 = p3; // => OK
p3 = new Point4D(); // => OK
p3 = p1; // Property 'z' is missing in type 'Point' but required in type 'Point3D'.
~~~

















### Function

> ==***å‡½æ•°ä¹‹é—´çš„å…¼å®¹æ€§ï¼Œéœ€è¦è€ƒè™‘ï¼š`å‚æ•°ä¸ªæ•°ï¼Œå‚æ•°ç±»å‹ï¼Œè¿”å›å€¼ç±»å‹`***==
>
> 1. <span style=color:black;>***å‚æ•°ä¸ªæ•°**: å‚æ•°å¤šçš„å…¼å®¹å‚æ•°å°‘çš„<i style=color:red;>(å‚æ•°å°‘çš„å¯ä»¥èµ‹å€¼ç»™å‚æ•°å¤šçš„)</i>*</span>
>
>    - ~~~typescript
>      type F1 = (a: number) => void;
>      type F2 = (a: number, b: number) => void;
>                      
>      let fn1!: F1;
>      let fn2!: F2;
>                      
>      fn2 = fn1; // => OK
>      fn1 = fn2; // Type 'F2' is not assignable to type 'F1'.
>      ~~~
>
> 2. <span style=color:black;>***å‚æ•°ç±»å‹**ï¼šç›¸åŒä½ç½®çš„å‚æ•°ç±»å‹è¦ç›¸åŒ(åŸå§‹ç±»å‹)æˆ–å…¼å®¹(å¯¹è±¡ç±»å‹)*</span>
>
>    - ~~~typescript
>      // åŸºç¡€å‚æ•°ç±»å‹
>      type F1 = (a: number) => void;
>      type F2 = (a: number) => void;
>      type F3 = (a: string) => void;
>                      
>      let fn1!: F1;
>      let fn2!: F2;
>      let fn3!: F3;
>                      
>      fn2 = fn1; // => OK
>      fn1 = fn2; // => OK
>      fn1 = fn3; // Type 'F3' is not assignable to type 'F1'. Types of parameters 'a' and 'a' are incompatible. Type 'number' is not assignable to type 'string'.
>                      
>      // å¯¹è±¡å‚æ•°ç±»å‹
>      interface Point2D { x: number; y: number }
>      interface Point3D { x: number; y: number; z: number }
>                      
>      type F2 = (a: Point2D) => void;
>      type F3 = (a: Point3D) => void;
>                      
>      let fn2!: F2;
>      let fn3!: F3;
>                      
>      fn3 = fn2; // => OK
>      fn2 = fn3; // Type 'F3' is not assignable to type 'F2'. Types of parameters 'a' and 'a' are incompatible. Property 'z' is missing in type 'Point2D' but required in type 'Point3D'.
>      ~~~
>
> 3. <span style=color:black;>***è¿”å›å€¼ç±»å‹**ï¼šè¿”å›å€¼ç±»å‹è¦ç›¸åŒ(åŸå§‹ç±»å‹)æˆ–å…¼å®¹(å¯¹è±¡ç±»å‹)*</span>
>
>    - ~~~typescript
>      // è¿”å›åŸºç¡€ç±»å‹
>      type F1 = () => boolean;
>      type F2 = () => boolean;
>                                              
>      let fn1!: F1;
>      let fn2!: F2;
>                                              
>      fn1 = fn2; // => OK
>      fn2 = fn1; // => OK
>                                              
>      // è¿”å›å¯¹è±¡ç±»å‹
>      type F1 = () => { x: number; y: number };
>      type F2 = () => { x: number; y: number, z: number };
>                                              
>      let fn1!: F1;
>      let fn2!: F2;
>                                              
>      fn1 = fn2; // => OK
>      fn2 = fn1; // Type 'F1' is not assignable to type 'F2'. Property 'z' is missing in type '{ x: number; y: number; }' but required in type '{ x: number; y: number; z: number; }'.
>      ~~~



















## ğŸ“„å£°æ˜æ–‡ä»¶

> ==***<span style=color:red;>ç±»å‹å£°æ˜æ–‡ä»¶</span>ï¼šç”¨äºä¸ºå·²å­˜åœ¨çš„JSåº“æä¾›ç±»å‹ä¿¡æ¯***==













### ğŸ“šæ–‡ä»¶ç±»å‹

><span style=color:black;>***`TypeScript`ä¸­æœ‰ä¸¤ç§æ–‡ä»¶ç±»å‹:***</span>
>
>- ==`.ts`æ–‡ä»¶(ä»£ç å®ç°)==
>  1. <span style=color:black;>å³åŒ…å«ç±»å‹ä¿¡æ¯åˆå¯æ‰§è¡Œä»£ç </span>
>  2. <span style=color:black;>å¯ä»¥è¢«ç¼–è¯‘ä¸º`.js`æ–‡ä»¶æ‰§è¡Œ</span>
>  3. <span style=color:black;>**ç”¨é€”**ï¼šç¼–å†™ç¨‹åºä»£ç </span>
>- ==`.d.ts`æ–‡ä»¶(ç±»å‹å£°æ˜)==
>  1. <span style=color:black;>åªåŒ…å«ç±»å‹ä¿¡æ¯çš„ç±»å‹å£°æ˜æ–‡ä»¶</span>
>  2. <span style=color:black;>ä¸ä¼šç”Ÿæˆ`.js`æ–‡ä»¶,ä»…ç”¨äºæä¾›ç±»å‹ä¿¡æ¯</span>
>  3. <span style=color:black;>**ç”¨é€”**ï¼šä¸º`JS`æä¾›ç±»å‹ä¿¡æ¯</span>













### ğŸ“—å†…ç½®ç±»å‹å£°æ˜æ–‡ä»¶

> ==***<span style=color:red;>å†…ç½®ç±»å‹å£°æ˜æ–‡ä»¶</span>ï¼š`TS`ä¸º`JS`è¿è¡Œæ—¶å¯ç”¨çš„æ‰€æœ‰æ ‡å‡†åŒ–å†…ç½®`API`éƒ½æä¾›äº†å£°æ˜æ–‡ä»¶***==
>
> + <span style=color:black;>`es5`å¯¹åº”çš„ç±»å‹å£°æ˜æ–‡ä»¶: `lib.es5.d.ts`</span>
> + <span style=color:black;>`dom`å¯¹åº”çš„ç±»å‹å£°æ˜æ–‡ä»¶: `lib.dom.d.ts`</span>
> + â—½â—½â—½















### ğŸ“•ç¬¬ä¸‰æ–¹åº“çš„ç±»å‹å£°æ˜æ–‡ä»¶

> ==***ç¬¬ä¸‰æ–¹åº“çš„ç±»å‹å£°æ˜æ–‡ä»¶æœ‰ä¸¤ç§å­˜åœ¨å½¢å¼:***==
>
> 1. **<span style=color:black;>åº“è‡ªå¸¦ç±»å‹å£°æ˜æ–‡ä»¶</span>**
>
>    + <span style=color:black;>*åŒ…çš„æ ¹ç›®å½•ä¸‹çš„`index.d.ts`*</span>
>    + <span style=color:black;>*åŒ…çš„`package.json`æ–‡ä»¶ä¸­`typings`å±æ€§é…ç½®çš„æ–‡ä»¶å³ä¸ºç±»å‹å£°æ˜æ–‡ä»¶*</span>
>
> 2. <span style=color:black;>**ç”±`DefinitelyTyped`æä¾›**</span>
>
>    + <span style=color:black;>*[DefinitelyTyped](https://github.com/DefinitelyTyped/DefinitelyTyped)æ˜¯ä¸€ä¸ª`github`ä»“åº“ï¼Œç”¨äºæä¾›é«˜è´¨é‡`TypeScript`ç±»å‹å£°æ˜*</span>
>
>    + ~~~cmd
>      npm install --save-dev @types/åŒ…å
>      ~~~
>
>    +   ğŸ”*[ç±»å‹æœç´¢](https://www.typescriptlang.org/dt/search)*















### ğŸ“˜è‡ªå®šä¹‰ç±»å‹å£°æ˜æ–‡ä»¶

+ <span style=color:black;>**é¡¹ç›®å…±äº«ç±»å‹**</span>

  1. <span style=color:black;>*åˆ›å»º`index.d.ts`æ–‡ä»¶*</span>=

  2. <span style=color:black;>*åˆ›å»ºéœ€è¦å…±äº«çš„ç±»å‹ï¼Œå¹¶ä½¿ç”¨`export`å¯¼å‡º*</span>

     ~~~typescript
     // index.d.ts
     export type Props = { id: number; name: string; };
     ~~~

  3. <span style=color:black;>*åœ¨éœ€è¦ä½¿ç”¨å…±äº«ç±»å‹çš„`.ts`æ–‡ä»¶ä¸­ï¼Œä½¿ç”¨`import`å¯¼å…¥*</span>

     ~~~typescript
     import { Props } from "./index"; // å¯¼å…¥æ—¶éœ€è¦å¿½ç•¥ .d.ts åç¼€
     
     const props: Props = {
         id: 1,
         name: 'linke'
     }
     ~~~

+ **ä¸ºå·²æœ‰`JS`æ–‡ä»¶æä¾›ç±»å‹**

  + <span style=color:black;>*åˆ›å»ºåŒåå¹¶ä»¥`.d.ts`åç¼€çš„æ–‡ä»¶*</span>
  
  + <span style=color:black;>*åœ¨æ–‡ä»¶ä¸­ä½¿ç”¨ `declare`å…³é”®å­—ä¸ºå·²å­˜åœ¨çš„å˜é‡å£°æ˜ç±»å‹ï¼Œå¹¶ä½¿ç”¨`exprot`å¯¼å‡º*</span>
  
    + ==å¯¹äº`tpye`,`interface`ç­‰è¿™äº›æ˜ç¡®å°±æ˜¯TSç±»å‹çš„ï¼Œå¯çœç•¥`declare`å…³é”®å­—==
    + ==å¯¹äº`let`,`count`,`function`ç­‰å…·æœ‰åŒé‡å«ä¹‰çš„ï¼Œåˆ™éœ€è¦æ˜ç¡®ä½¿ç”¨`declare`æŒ‡æ˜ç±»å‹==
  
    <span style=color:skyblue;>**.js**</span>
  
    ~~~javascript
    /* index.js */
    let count = 0;
    let position = {
        x: 0,
        y: 0
    }
    
    function add(x, y) {
        return x + y
    }
    
    const formatPoint = point => {
        console.log(point);
    }
    
    export { count, position, add, formatPoint }
    ~~~
  
    <span style=color:skyblue;>**.d.ts**</span>
  
    ~~~typescript
    /* index.d.ts */
    // ä¸º index.js æ–‡ä»¶æä¾›ç±»å‹å£°æ˜
    interface Point {
        x: number;
        y: number
    }
    
    declare let count: number
    declare let position: Point
    declare function add(x: number, y: number): number
    declare const formatPoint: (point: Point) => void
    
    // éœ€è¦ä½¿ç”¨exportå¯¼å‡º
    export { Point, count, position, add, formatPoint }
    ~~~
  
  - <span style=color:black;>*åœ¨`.ts`æ–‡ä»¶ä¸­ä½¿ç”¨`import`å¯¼å…¥å³å¯ä½¿ç”¨*</span>
  
    ~~~typescript
    import { count, add } from './index' // tsä¼šè‡ªåŠ¨åŠ è½½ä¸ .js åŒåçš„ .d.ts æ–‡ä»¶
    
    // å¯æ˜¾ç¤ºå¯¼å‡ºç±»å‹(typeå¯çœç•¥)
    // import type { Point } from './utils' // æ–¹å¼(1)
    // import { type Point } from './utils' // æ–¹å¼(2)
    
    add(count, 1); // => 1
    ~~~

















## ğŸ”ƒå¯¼å…¥å¯¼å‡º

> ==***`TypeScript`æä¾›äº†å…¼å®¹æ€§è¯­æ³•: å¯æ··ç”¨`es`ä¸`commonjs`çš„ä¸¤ç§æ¨¡å—ç³»ç»Ÿ***==
>
> :grey_exclamation:<span style=color:red;>*éœ€è¦é…ç½®`tsconfig.json`æ–‡ä»¶ä¸­çš„`esModuleInterop`ä¸º`true`*</span>
>
> 1. <span style=color:black;>å®‰è£… `@types/node`</span>
>
>    ~~~cmd
>    npm i --save-dev @types/node
>    ~~~
>
> 2. <span style=color:black;>ä¸éœ€è¦`package.json`æ–‡ä»¶ä¸­çš„é…ç½® `"type": "module"`</span>
>
> 3. <span style=color:black;>éœ€è¦åœ¨`tsconfig.json`æ–‡ä»¶ä¸­é…ç½®`"module": "commonjs"`</span>

~~~typescript
/* @filename: index.ts */

// es å¯¼å‡º
export type Props = { id: number; name: string; };

// commonjs å¯¼å‡º
module.exports = {
    ip: '127.0.0.1',
    port: 9000
}
// exports.port = 9000
~~~

~~~typescript
// es å¯¼å…¥
import { Props } from "./index";
const props: Props = {
    id: 1,
    name: 'linke'
}
props; // const props: Props

// commonjs å¯¼å…¥
const { ip, port } = require('./index')
ip;	  // const ip: any
port; // const port: any
~~~



















## ğŸ“‘tsconfig.json

~~~json
{
    "compilerOptions": {
        "target": "es2016", // ç¼–è¯‘åæ–‡ä»¶çš„ä»£ç ç‰ˆæœ¬
        "module": "commonjs", // ç¼–è¯‘åæ–‡ä»¶çš„è§„èŒƒ
        "rootDir": "./", // æºæ–‡ä»¶çš„ç›®å½•ä½ç½®
        "outDir": "./", // ç¼–è¯‘ç”Ÿæˆæ–‡ä»¶çš„ç›®å½•ä½ç½®
		"strictPropertyInitialization": true, // æ˜¯å¦å¯¹Classå£°æ˜ä¸­å±æ€§åˆå§‹åŒ–çš„æ£€æŸ¥
        "esModuleInterop": true, // æ˜¯å¦å…è®¸æ··ç”¨æ¨¡å—ç³»ç»Ÿ(falseåªå…è®¸commonjsæ¨¡å—ç³»ç»Ÿ)
    }
}
~~~



















## â–«â–«â–«ç»ˆ

<center><b><i><u>- æˆ‘æƒ³æˆä¸ºä½ åˆ»éª¨é“­å¿ƒä¹‹äºº -</u></i></b></center>
