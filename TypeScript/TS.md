[TOC]

# TypeScript

<div style="display: flex; align-items: center;">
    <hr/>
    <svg class="icon" style="width: 5em;height: 5em;margin: 0 5px;vertical-align: middle;fill: currentColor;overflow: hidden;" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3608"><path d="M94.208 94.208v835.584h835.584V94.208H94.208z m634.92096 405.85216v0.012288c8.011776 0.024576 17.119232 0.436224 23.967744 1.179648 27.891712 3.016704 49.6128 15.050752 68.091904 37.715968 9.201664 11.290624 12.34944 16.2304 11.679744 18.343936-0.432128 1.363968-6.746112 5.885952-26.820608 19.21024-19.720192 13.092864-26.07104 17.014784-27.5456 17.014784-1.497088 0-4.614144-3.207168-9.105408-9.365504-8.6528-11.855872-17.485824-17.266688-31.13984-19.070976-14.68416-1.9456-27.856896 2.68288-34.308096 12.058624-5.515264 8.011776-6.3488 20.901888-1.96608 30.26944 5.07904 10.848256 14.270464 16.846848 49.494016 32.290816 40.624128 17.813504 61.210624 30.005248 76.204032 45.13792 16.146432 16.293888 24.326144 35.106816 26.83904 61.718528 1.226752 12.972032-0.272384 28.34432-3.98336 40.843264-9.10336 30.640128-33.66912 53.075968-69.67296 63.635456-9.95328 2.9184-19.214336 4.661248-28.37504 5.332992-13.985792 1.030144-34.002944 0.462848-46.051328-1.29024-30.482432-4.442112-64.892928-22.17984-82.051072-42.2912-8.423424-9.873408-19.177472-26.12224-19.177472-28.9792 0-1.380352 0.684032-2.164736 3.391488-3.885056 8.032256-5.103616 54.054912-31.412224 54.94784-31.412224 0.540672 0 2.945024 2.832384 5.341184 6.295552 5.429248 7.839744 18.78016 21.313536 25.567232 25.808896 5.543936 3.672064 12.634112 6.619136 21.051392 8.747008 4.820992 1.202176 7.3728 1.417216 17.891328 1.417216 10.747904-0.004096 12.951552-0.18432 17.760256-1.476608 12.71808-3.422208 22.644736-10.50624 26.851328-19.156992 1.8432-3.7376 1.880064-4.204544 1.880064-13.27104v-9.40032l-2.260992-4.48512c-5.474304-10.866688-17.270784-18.323456-54.56896-34.47808-17.13152-7.421952-38.11328-17.885184-46.30528-23.0912-18.696192-11.880448-31.653888-25.462784-40.157184-42.088448-8.45824-16.533504-9.71776-22.687744-9.73824-47.548416-0.02048-19.462144-0.053248-19.222528 3.975168-31.643648 3.65568-11.272192 11.139072-23.863296 19.400704-32.64512 16.4864-17.524736 40.577024-28.788736 66.367488-31.029248 3.29728-0.313344 7.716864-0.434176 12.52352-0.41984z m-221.92128 3.844096h0.008192c49.670144 0.024576 78.143488 0.196608 78.600192 0.483328 0.86016 0.53248 0.968704 4.855808 0.968704 32.444416v31.827968l-49.563648 0.180224-49.563648 0.180224v140.724224c0 77.400064-0.157696 141.185024-0.372736 141.748224-0.350208 0.948224-4.163584 1.019904-36.41344 1.019904h-36.018176l-0.372736-1.45408c-0.239616-0.79872-0.415744-64.587776-0.41984-141.750272l-0.012288-140.296192-49.5616-0.176128-49.565696-0.180224v-31.451136c0-24.94464 0.172032-31.625216 0.837632-32.288768 0.681984-0.702464 25.976832-0.882688 134.967296-0.991232 21.01248-0.02048 39.92576-0.03072 56.48384-0.02048z" fill="#0288D1" p-id="3609"></path></svg>
	<hr/>
</div>

***[TypeScript](https://www.typescriptlang.org/)(ç®€ç§°`TS`): æ˜¯`JavaScript`çš„<span style=color:red;>è¶…é›†</span>***

<center><img src="images/typescript.png" alt="typescript" style="zoom:35%;" title="typescript" /></center>















## ğŸ€æ¦‚å¿µ

> ==***`TypeScript`æ˜¯å¸¦æœ‰ç±»å‹è¯­æ³•çš„ `JavaScript`æ„å»ºçš„å¼ºç±»å‹ç¼–ç¨‹è¯­è¨€***==

















## TSä¸JSçš„åŒºåˆ«

+ `TypeScript`å±äºé™æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€

  > ==**<span style=color:red;>é™æ€ç±»å‹</span>: ç¼–è¯‘æœŸåšç±»å‹æ£€æŸ¥**==

+ `JavaScript`å±äºåŠ¨æ€ç±»å‹çš„ç¼–ç¨‹è¯­è¨€

  > ==**<span style=color:red;>åŠ¨æ€ç±»å‹</span>ï¼šè¿è¡ŒæœŸåšç±»å‹æ£€æŸ¥**==



















## å®‰è£…

~~~cmd
# å…¨å±€å®‰è£…
npm install -g typescript

# æŸ¥è¯¢ç‰ˆæœ¬
tsc -v
~~~

















### ä½œç”¨

==**ç”¨æ¥ç¼–è¯‘ `TypeScript` ä»£ç ï¼Œå°† `TS` è½¬æ¢ `JS`**==

<center><img src="images/ts%E7%9A%84%E7%BC%96%E8%AF%91.png" alt="tsçš„ç¼–è¯‘" style="zoom:90%;border: 1px solid silver;" title="tsçš„ç¼–è¯‘" /></center>





















## ç¼–è¯‘è¿è¡Œ

1. <span style=color:black;>**åˆ›å»º `index.ts` æ–‡ä»¶(`TS`æ–‡ä»¶åç¼€åä¸º`.ts`)**</span>

2. <span style=color:black;>**ç¼–è¯‘`TS`ï¼Œåœ¨ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼›<u>ç¼–è¯‘å®Œæˆåï¼Œä¼šåœ¨åŒçº§ç›®å½•ç”ŸæˆåŒå`JS`æ–‡ä»¶</u>**</span>

   ~~~cmd
   tsc index.ts
   ~~~

3. <span style=color:black;>**æ‰§è¡Œç¼–è¯‘åçš„`JS`æ–‡ä»¶**</span>

   ~~~cmd
   node index.js
   ~~~

















### ts-node

> :grey_exclamation:==**ä½œç”¨: <u>ç®€åŒ–æ¯æ¬¡ä¿®æ”¹ `ts` ä»£ç éƒ½éœ€è¦æ‰§è¡Œ `tsc` å‘½ä»¤ç¼–è¯‘ï¼Œç›´æ¥å°† `ts`ç¼–è¯‘è¿è¡Œï¼Œä¸”ä¸ç”Ÿæˆ `js` æ–‡ä»¶</u>**==

~~~cmd
# å…¨å±€å®‰è£…
npm install -g ts-node

# ä½¿ç”¨
ts-node <.tsæ–‡ä»¶è·¯å¾„>
~~~

















## é™æ€ç±»å‹æ£€æŸ¥

> ==**<span style=color:red;>é™æ€ç±»å‹ç³»ç»Ÿ</span>æè¿°äº†ç¨‹åºè¿è¡Œæ—¶å€¼çš„ç»“æ„å’Œè¡Œä¸º**==

~~~typescript
const message = "hello!";
 
message(); // This expression is not callable. Type 'String' has no call signatures.
~~~















## éå¼‚å¸¸å¤±è´¥

~~~typescript
const user = {
    name: "linke",
    age: 19,
};
 
user.sex; // Property 'location' does not exist on type '{ name: string; age: number; }'.
~~~



















## ğŸ“ç±»å‹æ³¨è§£

> ~~~typescript
> let å˜é‡å: ç±»å‹ = å˜é‡å€¼;
> ~~~
>
> ==***ä½¿ç”¨ `const`ã€`var` æˆ– `let` å£°æ˜å˜é‡æ—¶,å¯ä»¥é€‰æ‹©æ·»åŠ ç±»å‹æ³¨é‡Šä»¥æ˜¾å¼æŒ‡å®šå˜é‡çš„ç±»å‹***==
>
> :grey_exclamation:==**`: ç±»å‹`è¡¨ç¤ºçº¦å®šå˜é‡ä¸ºæŒ‡å®šç±»å‹ï¼›åªèƒ½ä¸ºè¯¥å˜é‡èµ‹å€¼è¯¥ç±»å‹çš„å€¼ï¼Œåä¹‹æŠ¥é”™**==

~~~typescript
let age: number = 19; // å®šä¹‰ageå˜é‡ä¸ºnumberç±»å‹

age = 15; // èµ‹å€¼æˆåŠŸ

age = '15'; // Type 'string' is not assignable to type 'number'.
~~~

















### ç±»å‹æ¨æ–­

> ==**å¯çœç•¥ç±»å‹æ³¨é‡Šï¼Œ`TypeScript` éƒ½ä¼šå°è¯•è‡ªåŠ¨æ¨æ–­ä»£ç ä¸­çš„ç±»å‹**==
>
> :grey_exclamation:==***<span style=color:red;>å˜é‡çš„ç±»å‹æ˜¯æ ¹æ®å…¶åˆå§‹å€¼è®¾å®šé¡¹çš„ç±»å‹æ¨æ–­çš„</span>***==

~~~typescript
let myName = 'linke'; // => ç­‰ä»·äº let myName: string = 'linke';

myName = true; // Type 'boolean' is not assignable to type 'string'.
~~~



















## ğŸ”–åŸºç¡€ç±»å‹

### åŸå§‹ç±»å‹

|      ç±»å‹       |
| :-------------: |
|  **`number`**   |
|  **`string`**   |
|  **`boolean`**  |
|   **`null`**    |
| **`undefined`** |
|  **`symbol`**   |

~~~typescript
let age: number = 19;		// æ•°å­—
let first: string = 'L';		// å­—ç¬¦ä¸²
let flag: boolean = true;	// å¸ƒå°”
let no: null = null;			// null
let last: undefined = undefined;	// undefined
let s: symbol = Symbol();	// symbol
~~~

















### ğŸŸ å¯¹è±¡ç±»å‹

#### æ•°ç»„

+ **`ç±»å‹[]`**

  ~~~typescript
  // æ–¹å¼ä¸€(æ¨è)
  let numbers: number[] = [1, 2, 3];
  
  numbers = [1, true]; // Type 'boolean' is not assignable to type 'number'.
  ~~~

+ **`Array<ç±»å‹>`**

  ~~~typescript
  // æ–¹å¼äºŒ
  let strings: Array<string> = ['a', 'b', 'c'];
  ~~~

  













#### å¯¹è±¡

~~~typescript
let obj: object = {}; // å¯¹è±¡ç±»å‹

obj = { id: 1}
obj = { name: 'linke' }

obj = 1; // Type 'number' is not assignable to type 'object'.
~~~















#### è‡ªå®šä¹‰å¯¹è±¡

+ **`å±æ€§å: ç±»å‹`: å£°æ˜å¯¹è±¡å±æ€§ç±»å‹**

  ~~~typescript
  const person: { name: string } = { name: 'linke' };
  ~~~

+ **`æ–¹æ³•å(): ç±»å‹`: å£°æ˜å¯¹è±¡æ–¹æ³•ç±»å‹**

  ~~~typescript
  // æ–¹å¼1
  const person: { fn(): void } = { fn() { } }
  
  // æ–¹å¼2(ç®­å¤´å‡½æ•°)
  const person: { fn(): void } = { fn: () => { } }
  ~~~













##### â•â•æ³¨æ„

+ :grey_exclamation:==**å¤šä¸ªå¯¹è±¡å±æ€§ç±»å‹ä½¿ç”¨`;`éš”å¼€**==

  ~~~typescript
  const person: { name: string; age: number; address(): void } = {
      name: 'linke',
      age: 19,
      address() { }
  }
  
  person; // => { name: 'linke', age: 19, address: [Function: address] }
  ~~~

+ :grey_exclamation:==**å¤šä¸ªå¯¹è±¡å±æ€§ç±»å‹æ¢è¡Œ,å¯çœç•¥`;`**==

  ~~~typescript
  const person: {
      name: string
      age: number
  } = {
      name: 'linke',
      age: 19
  }
  ~~~

  





















#### å±æ€§ä¿®é¥°ç¬¦

+ **`?`**: <span style=color;black;>å¯é€‰å±æ€§</span>

  ~~~typescript
  const options: {
      x?: number;
      y?: number;
      z?: number;
  } = {
      z: 1
  }
  
  options; // => { z: 1 }
  ~~~

+ **`readonly`**: <span style=color;black;>åªè¯»å±æ€§</span>

  ~~~typescript
  const obj: {
      readonly name: string
  } = {
      name: 'linke'
  }
  
  obj; // => { name: 'linke' }
  
  obj.name = 'baili'; // Cannot assign to 'name' because it is a read-only property.
  ~~~

  



















### è”åˆç±»å‹

> ~~~typescript
> let å˜é‡å: ç±»å‹1 | ç±»å‹2 | ... = å˜é‡å€¼;
> ~~~
>
> :grey_exclamation:==***è”åˆç±»å‹æ˜¯ç”±ä¸¤ä¸ªæˆ–å¤šä¸ªå…¶ä»–ç±»å‹ç»„æˆçš„ç±»å‹ï¼Œè¡¨ç¤ºå¯èƒ½æ˜¯è¿™äº›ç±»å‹ä¸­çš„ä»»ä½•ä¸€ç§çš„å€¼***==

~~~typescript
// å˜é‡
let size: number | string = 1;
size = '2';
size // => '2'

// æ•°ç»„
let arr: (number | string)[] = [1, 'a', 2, 'b'];
arr.push(3);
arr.unshift('c');
arr // => [ 'c', 1, 'a', 2, 'b', 3 ]
~~~

















### ç±»å‹åˆ«å

> ~~~typescript
> // å®šä¹‰: é€šè¿‡typeå®šä¹‰ç±»å‹åˆ«å
> type ç±»å‹åˆ«å = ç±»å‹;
> 
> // ä½¿ç”¨: å°†ç±»å‹åˆ«åä½œä¸ºç±»å‹æ³¨è§£
> let å˜é‡å: ç±»å‹åˆ«å = å˜é‡å€¼;
> ~~~
>
> ==**å¸Œæœ›å¤šæ¬¡ä½¿ç”¨ç›¸åŒçš„ç±»å‹,å¯é€šè¿‡å•ä¸ªåç§°å¼•ç”¨å®ƒ**==
>
> :grey_exclamation:==***å¯ä¸ºä»»ä½•ç±»å‹å®šä¹‰ç±»å‹åˆ«å***==

~~~typescript
// å®šä¹‰
type CustomArray = (number | string)[];

// ä½¿ç”¨
let arr: CustomArray = [1, 2, 3];
let arr2: CustomArray = [1, 'a', 'b'];
~~~















### ğŸŸ£å‡½æ•°ç±»å‹

> ==**å‡½æ•°çš„ç±»å‹å®é™…ä¸ŠæŒ‡çš„æ˜¯ï¼šå‡½æ•°<span style=color:red;>å‚æ•°</span>å’Œ<span style=color:red;>è¿”å›å€¼</span>çš„ç±»å‹**==







#### å‚æ•°ç±»å‹æ³¨é‡Š

> ~~~typescript
> function å‡½æ•°å(param1: å‚æ•°ç±»å‹, param2: å‚æ•°ç±»å‹) { ... }
> ~~~
>
> ==***å£°æ˜å‡½æ•°æ—¶ï¼Œå¯ä»¥åœ¨æ¯ä¸ªå‚æ•°åæ·»åŠ ç±»å‹æ³¨é‡Šï¼Œä»¥å£°æ˜å‡½æ•°æ¥å—çš„å‚æ•°ç±»å‹***==

~~~typescript
// å‚æ•°ç±»å‹æ³¨é‡Š
function greet(name: string) {
    return `Hello ${name.toUpperCase()}!`;
}

// è°ƒç”¨å‡½æ•°
greet('linke') // => Hello LINKE!

// é”™è¯¯å‚æ•°
greet(19) // Argument of type 'number' is not assignable to parameter of type 'string'.
~~~











#### è¿”å›ç±»å‹æ‰¹æ³¨

> ~~~typescript
> function å‡½æ•°å(å‚æ•°): è¿”å›å€¼ç±»å‹ { ... }
> ~~~
>
> ==**å¯ä»¥æ·»åŠ å‡½æ•°è¿”å›ç±»å‹æ‰¹æ³¨,åœ¨å‚æ•°åˆ—è¡¨ä¹‹åä½¿ç”¨ç±»å‹æ³¨è§£**==
>
> ==***<span style=color:red;>å¯çœç•¥è¿”å›ç±»å‹æ³¨é‡Šï¼Œ`TypeScript` å°†æ ¹æ®å‡½æ•°çš„`return`è¯­å¥æ¨æ–­å‡½æ•°çš„è¿”å›ç±»å‹</span>***==

~~~typescript
function getAge(): number {
    return 19;
}
~~~















#### æŒ‡å®šç±»å‹çš„æ–¹å¼

1. ***<span style=color:red;>å•ç‹¬</span>æŒ‡å®šå‚æ•°ï¼Œè¿”å›å€¼çš„ç±»å‹***

   ~~~typescript
   // æ™®é€šå‡½æ•°
   function fn(arg, å‚æ•°ç±»å‹, ...): å‡½æ•°è¿”å›å€¼ç±»å‹ {
       return ...
   }
       
   // ç®­å¤´å‡½æ•°
   const fn = (arg: å‚æ•°ç±»å‹, ...): å‡½æ•°è¿”å›å€¼ç±»å‹ => {
       return ...
   }
   ~~~

2. ***<span style=color:red;>åŒæ—¶</span>æŒ‡å®šå‚æ•°ï¼Œè¿”å›å€¼çš„ç±»å‹***

   ~~~typescript
   const fn: (arg: å‚æ•°ç±»å‹, ...) => å‡½æ•°è¿”å›å€¼ç±»å‹ = (arg, ...) => {
   	return ...                                         
   }
   ~~~

   

















#### åŒ¿åå‡½æ•°

~~~typescript
const names = ['linke', 'baili', 'dudu'];
names.forEach((s: string) => {
    console.log(s.toUpperCase());
});
~~~

  













#### å¯é€‰å‚æ•°

> ==ä½¿ç”¨`?`å°†å‚æ•°æ ‡è®°ä¸º***<span style=color:red;>å¯é€‰</span>***==
>
> :grey_exclamation:<span style=color:red;>***å¯é€‰å‚æ•°åªèƒ½å‡ºç°åœ¨å‚æ•°åˆ—è¡¨çš„æœ€å***</span>

~~~typescript
function f(x?: å‚æ•°ç±»å‹) { ... }
function f(y: å‚æ•°ç±»å‹, x?: å‚æ•°ç±»å‹) { ... }
~~~















#### å‚æ•°è§£æ„

> ==**å¯ä»¥ä½¿ç”¨å‚æ•°è§£æ„æ–¹ä¾¿åœ°å°†ä½œä¸ºå‚æ•°æä¾›çš„å¯¹è±¡è§£å‹ç¼©åˆ°å‡½æ•°ä½“ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªå±€éƒ¨å˜é‡ä¸­**==

~~~typescript
function sum({ a, b, c }: { a: number; b: number; c: number }): number {
	return a + b + c;
}
~~~













#### å…¶ä½™å‚æ•°

> ==**å¯ä»¥ä½¿ç”¨`...`å®šä¹‰æ¥å—æ— é™æ•°é‡å‚æ•°çš„å‡½æ•°**==

~~~typescript
// åœ¨å‚æ•°å‰æ·»åŠ ..., å¹¶å°†å…¶ç±»å‹å®šä¹‰ä¸ºæ•°ç»„
function multiply(n: number, ...m: number[]) {
    return m.map((x) => n * x);
}

// è°ƒç”¨
multiply(10, 1, 2, 3, 4); // => [ 10, 20, 30, 40 ]
~~~



















#### å‡½æ•°é‡è½½

> ==***å¯ä»¥é€šè¿‡ç¼–å†™é‡è½½ç­¾åä»¥ä¸åŒæ–¹å¼è°ƒç”¨çš„å‡½æ•°***==
>
> :grey_exclamation:<span style=color:red;>***å¿…é¡»ç¼–å†™äº†ä¸€ä¸ªå…·æœ‰å…¼å®¹ç­¾åçš„å‡½æ•°å®ç°***</span>

~~~typescript
// é‡è½½ç­¾å
function makeDate(timestamp: number): Date;
function makeDate(m: number, d: number, y: number): Date;
// å®ç°ç­¾å
function makeDate(mOrTimestamp: number, d?: number, y?: number): Date {
    if (d !== undefined && y !== undefined) {
        return new Date(y, mOrTimestamp, d);
    } else {
        return new Date(mOrTimestamp);
    }
}

// è°ƒç”¨
const d1 = makeDate(1667911757230);
const d2 = makeDate(8, 11, 2022);
d1.toLocaleString(); // => 2022/11/8 20:49:17
d2.toLocaleString(); // 2022/9/11 00:00:00
~~~

















## ğŸŒŸé«˜çº§ç±»å‹

### å¯é‡ç”¨ç±»å‹

> ==***`interface`å®šä¹‰å…·æœ‰å±æ€§çš„ç±»å‹***==

~~~typescript
interface obj {
    name: string;
}
~~~





















### viod

> ==**`void`è¡¨ç¤ºæ²¡æœ‰ä»»ä½•ç±»å‹**==

~~~typescript
// å‡½æ•°ï¼šå‡½æ•°æ²¡æœ‰è¿”å›å€¼
function fn(args...): void { ... }

// å˜é‡: åªèƒ½èµ‹äºˆundefined
let unusable: void = undefined;
~~~















### any

>==**`any`ä¸€ä¸ªç‰¹æ®Šçš„ç±»å‹ï¼Œå®šä¹‰ä¸º`any`ç±»å‹çš„å˜é‡å…è®¸è¢«èµ‹å€¼ä¸ºä»»æ„ç±»å‹**==

~~~typescript
let value: any = 19;
value = 'linke';
~~~























### unknown

> ==**`unknown`è¡¨ç¤ºä»»ä½•å€¼ï¼Œç±»ä¼¼äºç±»å‹`any`ï¼Œä½†`unknown`æ›´å®‰å…¨**==

~~~typescript
function f1(a: any) {
    a.b(); // OK
}

function f2(a: unknown) {
    a.b(); // Object is of type 'unknown'.
}
~~~

















### never

> ==**`never`è¡¨ç¤ºæ°¸è¿œä¸ä¼šæœ‰å€¼çš„ä¸€ç§ç±»å‹**==

~~~typescript
function fail(msg: string): never {
    throw new Error(msg);
}
~~~













